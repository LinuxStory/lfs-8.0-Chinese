<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=utf-8" />
    <title>
      4.5.&nbsp;关于 SBU
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="lfs" id="lfs-8.0">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 8.0
      </h4>
      <h3>
        第四章&nbsp;最后的准备工作
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "配置环境">上一页</a>
          <p>
            配置环境
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title=
          "关于测试套件">下一页</a>
          <p>
            关于测试套件
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "第四章&nbsp;最后的准备工作">返回</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 8.0 ">主页</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="prepare-aboutsbus" name="prepare-aboutsbus"></a>4.5. 关于 SBU
      </h1>
      <p>
        大多数人都想知道编译和安装每个包大概需要多长时间，因为 Linux 系统可以安装在许多不同的硬件系统上，所以不可能提供准确的预估时间。比如说， 最大的软件包 (Glibc) 在最快的硬件系统上编译安装需要大约 20 分钟，但在较慢的硬件系统上可能需要长达三天的时间！再次不提供实际时间，而使用标准构建单位 (Standard Build Unit (SBU)) 来衡量。
      </p>
      <p>
        SBU 的测量原理如下：本书在 <a class="xref" href="../chapter05/chapter05.html" title=
        "第五章&nbsp;构建临时系统">第五章</a> 编译的第一个包是 Binutils ，编译这个包所需的时间被称为标准构建单位或 SBU 。所有其它包的编译时间都以此来表示。
      </p>
      <p>
        比如说，一个编译时间为 4.5 SBU 的包，这意味着如果在一个系统中花费了 10 分钟来编译和安装 Binutils ，则需要<span class=
        "emphasis"><em>大约</em></span> 45 分钟来构建此包。不过幸运的是，大多数包构建时间都要比 Binutils 所用的短。
      </p>
      <p>
        一般来说， SBU 并不完全准确。构建包所耗时间依赖许多因素，包括主机系统的 GCC 版本。在这里只是用来估计构建某个包所耗时间，但在有些情况下，误差可能多达几十分钟。
      </p>
      <div class="admon note">
        <img alt="[Note]" src="../images/note.png" />
        <h3>
          注意
        </h3>
        <p>
          对于具有多个物理处理器或者多内核处理器的现代硬件系统，可以通过设置环境变量来告知 <span class="command"><strong>make</strong></span> 程序有多少处理器核心可以用来并行处理，以减少包的编译时间。例如，酷睿 2 双核处理器 (Core2Duo) 可以同时支持两个进程：
        </p>
        <pre class="userinput">
<kbd class="command">export MAKEFLAGS='-j 2'</kbd>
</pre>
        <p>
          或者在编译时使用以下参数：
        </p>
        <pre class="userinput">
<kbd class="command">make -j2</kbd>
</pre>
        <p>
          当使用多线程编译编译包时，一个包的构建时间通常比本书所说明的多。在某些情况下， make 步骤将会失败。多进程同时编译，生成的日志文件也会交错出现，这使得分析包编译过程输出的日志也更加困难。如果在构建软件包时遇到了问题，请返回到单核心处理器进行编译，以便分析错误信息。
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="settingenvironment.html" title=
          "配置环境">上一页</a>
          <p>
            配置环境
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="abouttestsuites.html" title=
          "关于测试套件">下一页</a>
          <p>
            关于测试套件
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter04.html" title=
          "第四章&nbsp;最后的准备工作">返回</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 8.0 ">主页</a>
        </li>
      </ul>
    </div>
  </body>
</html>

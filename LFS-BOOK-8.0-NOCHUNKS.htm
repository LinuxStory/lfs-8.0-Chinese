<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <title>
      Linux From Scratch
    </title>
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
    <style type="text/css">
/*<![CDATA[*/
    /* Global settings */
    body {
    font-family: verdana, tahoma, helvetica, arial, sans-serif;
    text-align: left;
    background: #fff;
    color: #222;
    margin: 1em;
    padding: 0;
    font-size: 1em;
    line-height: 1.2em
    }


    /* Links */
    a:link { color: #22b; }
    a.ulink:link { font-weight: bold; color: #55f; }
    a:visited { color: #7e4988 ! important; }
    a:hover, a:focus { color: #d30e08 ! important; }
    a:active { color: #6b77b1 ! important;}


    /* Book titlepage */
    .book {
    margin: 0px auto;
    padding: 0 1em;
    }

    .book h1, .book .authorgroup, .book .copyright, .book .legalnotice .revhistory {
    background: #f5f6f7;
    margin: 0px auto;
    padding: .1em 1em;
    }

    .book hr {
    background: #dbddec;
    height: .3em;
    border: 0px;
    margin: 0;
    padding: 0;
    }

    div.dedication {
    padding-left: 1em;
    }


    /* Sections */
    div.sect1, div.appendix {
    padding-left: .3em;
    }

    .package, .kernel, .installation, .commands, .testing, .configuration, .content {
    padding: 0 .5em .2em 0;
    margin: 0;
    }

    .lfs .package {
    background: #f5f6f7;
    border-bottom: 0.2em solid #dbddec;
    padding-top: .1em;
    margin-top: 0;
    }

    .lfs .configuration {
    background:   #fefefe;
    border-top: 0.2em solid #dbddec;
    }

    .lfs .content {
    background: #f5f6f7;
    border-top: 0.2em solid #dbddec;
    border-bottom: 0.2em solid #dbddec;
    padding-bottom: .1em;
    margin-bottom: 0;
    }


    /* Headers */
    h1, h2, h3, h4, h5, h6, b, .strong {
    color: #000;
    font-weight: bold;
    line-height: 1em;
    }

    h1 {
    font-size: 173%;
    text-align: center;
    }

    .book h1 {
    margin: 0;
    padding: 0.4em;
    }

    h1.title sup {
    font-size: small;
    }

    h2 {
    font-size: 144%;
    }

    .preface h2, .part h1, .chapter h2, .appendix h2, .index h1, .sect1 h2 {
    background: #f5f6f7;
    border-top: .2em solid #dbddec;
    border-bottom: .2em solid #dbddec;
    margin-bottom: 1em;
    margin-top: 1em;
    padding: .4em;
    text-align: center;
    }

    .sect1 h2, .appendix h2 {
    margin-left: -.2em;
    }

    .wrap h2 {
    background: #f5f6f7;
    border-bottom: 0;
    margin-top: 1em;
    margin-bottom: 0;
    padding-top: .4em;
    }

    .book h2.subtitle {
    text-align: center;
    background: #dbddec;
    margin: 0;
    padding: 0.2em;
    }

    h3 {
    font-size: 120%;
    }

    .appendix h3 {
    font-size: 133%;
    margin-top: .8em;
    margin-bottom: 0.2em;
    }

    h4 {
    font-size: 110%;
    }

    .package h4, h5, h6 {
    font-size: 100%;
    font-style: italic;
    }


    /* TOC */
    div.toc ul, div.index ul, div.navheader ul, div.navfooter ul {
    list-style: none;
    }

    div.toc {
    padding-left: 1em;
    }

    li.preface, .part li.appendix {
    margin-left: 1em;
    }

    div.toc h3 {
    margin: 1em 0 .3em 0;
    }

    li.appendix h3, li.glossary h3, li.index h3 {
    margin: .5em
    }

    div.toc h4 {
    margin: .6em 0 .2em 0;
    }

    li.chapter h4 a {
    display: block;
    margin-bottom: .4em
    }

    .dummy {
    display: block;
    font-weight: bold;
    font-size: 110%;
    margin: .6em 0 .2em 0;
    }


    /* Index */
    .item {
    float: left;
    margin-right: 1em
    }

    .secitem {
    font-weight: normal;
    float: left;
    margin-right: 1em
    }

    .indexref {
    display: block;
    }

    .item + .indexref {
    margin-left: 20em;
    }

    .secitem + .indexref {
    margin-left: 19em;
    }


    /* Admonitions */
    div.admon h3 {
    padding-left: 2.5em;
    padding-top: 1em;
    }

    div.admon p {
    margin-left: .5em;
    }

    div.admon pre {
    margin: 0.5em 3em;
    }

    div.note, div.tip {
    background-color: #fffff6;
    border: 2px solid #dbddec;
    width: 90%;
    margin: .5em auto;
    }

    div.important, div.warning, div.caution {
    background-color: #fffff6;
    border: medium solid #400;
    width: 90%;
    margin: .5em auto;
    color: #600;
    }

    div.important h3, div.warning h3, div.caution h3 {
    color: #900;
    }

    div.important em, div.warning em, div.caution em {
    color: #000;
    font-weight: bold;
    }


    /* table */
    .table p.title {
    text-align: center;
    margin-top: 0;
    margin-bottom: .3em;
    }

    .table table {
    margin-left: auto;
    margin-right: auto;
    }

    .table table th, .table table td {
    padding: 0.2em 2em 0.2em 2em;
    text-align: left;
    }

    .revhistory {
    padding-left: 1em;
    }

    .revhistory th {
    line-height: 2em;
    text-align: left;
    }

    .revhistory td {
    padding-right: 1em;
    }


    /* variablelist as table */
    .variablelist table {
    width: auto;
    margin: 0 1em 0 1em;
    }

    .variablelist td {
    vertical-align: top;
    }

    .variablelist td span, td p {
    margin: 0.25em;
    }

    .variablelist td p {
    margin-top: 0;
    }


    /* variablelist as list */
    dl {
    padding-left: 1em
    }

    dt {
    font-weight: bold;
    margin-left: 1em;
    }

    dd {
    margin-bottom: .6em;
    margin-left: 1em;
    }

    dd p {
    margin-top: 0;
    margin-bottom: 0;
    padding-top: 0;
    padding-bottom: 0;
    }

    div.materials dt {
    display: list-item;
    }

    div.materials dd {
    margin-left: 0;
    padding-left: 0;
    }


    /* segmentedlist */
    .appendix .segmentedlist {
    padding-left: 1em;
    }

    .package .seg {
    margin-bottom: 0em;
    margin-top: 0em;
    clear: left;
    }

    .content .seg {
    margin-bottom: .4em;
    margin-top: .4em;
    clear: left;
    }

    .segtitle {
    float: left;
    }

    .package .segbody, .appendix .segbody {
    display: block;
    padding-left: 14em;
    }

    .content .segbody {
    display: block;
    padding-left: 12em;
    }


    /* itemizedlist */
    ul {
    padding-left: 1em
    }

    .itemizedlist ul {
    margin-left: 1em
    }

    .itemizedlist li ul {
    margin-bottom: 1.2em;
    }

    .itemizedlist li ul li p {
    margin-top: .5em;
    margin-bottom: .5em;
    }

    .itemizedlist li ul li:first-child p:first-child {
    margin-top: -.6em;
    }

    ul.compact {
    list-style: none;
    }

    .blfs ul.compact {
    list-style: disc;
    }

    ul.compact li {
    margin: 0em;
    padding: 0em;
    }

    ul.compact li p {
    padding: 0.3em;
    margin: 0em;
    }

    .blfs ul.compact li p {
    background-color: #f0fff0;
    }

    /* orderedlist */
    ol {
    list-style: decimal;
    }

    ol ol {
    list-style: lower-alpha;
    }

    ol ol ol {
    list-style: lower-roman;
    }

    ol.compact li {
    margin: 0em;
    padding: 0em;
    }

    ol.compact li p {
    padding: 0.3em;
    margin: 0em;
    }


    /* Indented blocks */
    p, blockquote {
    padding-left: 1em;
    padding-right: 1em;
    }


    /* Monospaced elements */
    tt, code, kbd, pre, .command {
    font-family: monospace;
    }

    .systemitem {
    font-style: italic;
    }

    pre {
    background-color: #e5e5e5;
    border: 1px solid #050505;
    padding: .5em 1em;
    margin: 0 2em .5em 2em;
    font-weight: bold;
    }

    pre.userinput {
    color: #101310;
    }

    pre.root {
    color: #101310;
    border: 1px solid #11a;
    }

    pre.screen {
    color: #000;
    background-color: #e9e9e9;
    font-weight: normal;
    }

    .literal, .prompt {
    font-weight: normal;
    }


    /* Mixed tags */
    p.usernotes {
    margin-left: -1em;
    font-size: small;
    font-weight: bold;
    font-style: italic;
    }

    .underlined {
    text-decoration: underline;
    }


    /* Last edited info */
    p.updated {
    font-size: small;
    font-weight: bold;
    font-style: italic;
    }


    /* Special colored blocks */
    /* OrangeRed4 */
    .feature-ssp {
    color: #8B2500;
    }

    /* RoyalBlue3 */
    .feature-aslr {
    color: #3A5FCD;
    }

    /* NavyBlue */
    .feature-pax {
    color: #000080;
    }

    /* VioletRed */
    .feature-hardened_tmp {
    color: #d02090;
    }

    /* PaleTurquoise4 */
    .feature-warnings {
    color: #668b8b;
    }

    /* RosyBrown */
    .feature-misc {
    color: #bc8f8f;
    }

    /* Sienna*/
    .feature-blowfish {
    color: #8E6B23
    }
    /*]]>*/
    </style>
  </head>
  <body class="lfs" id="lfs-8.0">
    <div class="book">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title">
              <a id="idp47458779257280" name="idp47458779257280"></a>Linux
              From Scratch
            </h1>
          </div>
          <div>
            <h2 class="subtitle">
              Version 8.0
            </h2>
          </div>
          <div>
            <div class="authorgroup">
              <div class="author">
                <h3 class="author">
                  <span class="firstname">Created by Gerard</span>
                  <span class="surname">Beekmans</span>
                </h3>
              </div>
              <div class="author">
                <h3 class="author">
                  <span class="firstname">Managing Editor: Bruce</span>
                  <span class="surname">Dubbs</span>
                </h3>
              </div>
            </div>
          </div>
          <div>
            <p class="copyright">
              Copyright © 1999-2017 Gerard Beekmans
            </p>
          </div>
          <div>
            <div class="legalnotice">
              <a id="idp47458781569904" name="idp47458781569904"></a>
              <p>
                Copyright © 1999-2017, Gerard Beekmans
              </p>
              <p>
                All rights reserved.
              </p>
              <p>
                This book is licensed under a <a class="xref" href="#CC" title="F.1.&nbsp;Creative Commons License">Creative Commons
                License</a>.
              </p>
              <p>
                Computer instructions may be extracted from the book under
                the <a class="xref" href="#MIT" title="F.2.&nbsp;The MIT License">MIT License</a>.
              </p>
              <p>
                <span class="trademark">Linux</span>® is a registered
                trademark of Linus Torvalds.
              </p>
            </div>
          </div>
        </div>
        <hr>
      </div>
      <div class="toc">
        <h3>
          Table of Contents
        </h3>
        <ul>
          <li class="preface">
            <h4>
              Preface
            </h4>
            <ul>
              <li class="sect1">
                <a href="#pre-foreword">Foreword</a>
              </li>
              <li class="sect1">
                <a href="#pre-audience">Audience</a>
              </li>
              <li class="sect1">
                <a href="#pre-architecture">LFS Target Architectures</a>
              </li>
              <li class="sect1">
                <a href="#pre-standards">LFS and Standards</a>
              </li>
              <li class="sect1">
                <a href="#pre-why">Rationale for Packages in the Book</a>
              </li>
              <li class="sect1">
                <a href="#pre-prerequisites">Prerequisites</a>
              </li>
              <li class="sect1">
                <a href="#pre-typography">Typography</a>
              </li>
              <li class="sect1">
                <a href="#pre-organization">Structure</a>
              </li>
              <li class="sect1">
                <a href="#pre-errata">Errata</a>
              </li>
            </ul>
          </li>
          <li class="part">
            <h3>
              I. Introduction
            </h3>
            <ul>
              <li class="chapter">
                <h4>
                  1. Introduction
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-intro-how">How to Build an LFS System</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-intro-whatsnew">What's new since the last
                    release</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scatter-changelog">Changelog</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-intro-resources">Resources</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-intro-askforhelp">Help</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="part">
            <h3>
              II. Preparing for the Build
            </h3>
            <ul>
              <li class="chapter">
                <h4>
                  2. Preparing the Host System
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#space-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#pre-hostreqs">Host System Requirements</a>
                  </li>
                  <li class="sect1">
                    <a href="#stages">Building LFS in Stages</a>
                  </li>
                  <li class="sect1">
                    <a href="#space-creatingpartition">Creating a New
                    Partition</a>
                  </li>
                  <li class="sect1">
                    <a href="#space-creatingfilesystem">Creating a File
                    System on the Partition</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-partitioning-aboutlfs">Setting The $LFS
                    Variable</a>
                  </li>
                  <li class="sect1">
                    <a href="#space-mounting">Mounting the New Partition</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  3. Packages and Patches
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#materials-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#materials-packages">All Packages</a>
                  </li>
                  <li class="sect1">
                    <a href="#materials-patches">Needed Patches</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  4. Final Preparations
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#prepare-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-creatingtoolsdir">Creating the
                    $LFS/tools Directory</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-addinguser">Adding the LFS User</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-settingenviron">Setting Up the
                    Environment</a>
                  </li>
                  <li class="sect1">
                    <a href="#prepare-aboutsbus">About SBUs</a>
                  </li>
                  <li class="sect1">
                    <a href="#prepare-abouttestsuites">About the Test
                    Suites</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  5. Constructing a Temporary System
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-tools-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-toolchaintechnotes">Toolchain
                    Technical Notes</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-generalinstructions">General
                    Compilation Instructions</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-binutils-pass1">Binutils-2.27 - Pass
                    1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-gcc-pass1">GCC-6.3.0 - Pass 1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-linux-headers">Linux-4.9.9 API
                    Headers</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-glibc">Glibc-2.25</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-libstdcpp">Libstdc++-6.3.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-binutils-pass2">Binutils-2.27 - Pass
                    2</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-gcc-pass2">GCC-6.3.0 - Pass 2</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-tcl">Tcl-core-8.6.6</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-expect">Expect-5.45</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-dejagnu">DejaGNU-1.6</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-check">Check-0.11.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-ncurses">Ncurses-6.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-bash">Bash-4.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-bison">Bison-3.0.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-bzip2">Bzip2-1.0.6</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-coreutils">Coreutils-8.26</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-diffutils">Diffutils-3.5</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-file">File-5.30</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-findutils">Findutils-4.6.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-gawk">Gawk-4.1.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-gettext">Gettext-0.19.8.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-grep">Grep-3.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-gzip">Gzip-1.8</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-m4">M4-1.4.18</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-make">Make-4.2.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-patch">Patch-2.7.5</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-perl">Perl-5.24.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-sed">Sed-4.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-tar">Tar-1.29</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-texinfo">Texinfo-6.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-util-linux">Util-linux-2.29.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-xz">Xz-5.2.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-stripping">Stripping</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-tools-changingowner">Changing Ownership</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="part">
            <h3>
              III. Building the LFS System
            </h3>
            <ul>
              <li class="chapter">
                <h4>
                  6. Installing Basic System Software
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-system-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-kernfs">Preparing Virtual Kernel File
                    Systems</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-pkgmgt">Package Management</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-chroot">Entering the Chroot
                    Environment</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-creatingdirs">Creating
                    Directories</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-createfiles">Creating Essential Files
                    and Symlinks</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-linux-headers">Linux-4.9.9 API
                    Headers</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-man-pages">Man-pages-4.09</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-glibc">Glibc-2.25</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-adjusting">Adjusting the
                    Toolchain</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-zlib">Zlib-1.2.11</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-file">File-5.30</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-binutils">Binutils-2.27</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gmp">GMP-6.1.2</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-mpfr">MPFR-3.1.5</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-mpc">MPC-1.0.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gcc">GCC-6.3.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-bzip2">Bzip2-1.0.6</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-pkgconfig">Pkg-config-0.29.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-ncurses">Ncurses-6.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-attr">Attr-2.4.47</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-acl">Acl-2.2.52</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-libcap">Libcap-2.25</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-sed">Sed-4.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-shadow">Shadow-4.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-psmisc">Psmisc-22.21</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-iana-etc">Iana-Etc-2.30</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-m4">M4-1.4.18</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-bison">Bison-3.0.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-flex">Flex-2.6.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-grep">Grep-3.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-readline">Readline-7.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-bash">Bash-4.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-bc">Bc-1.06.95</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-libtool">Libtool-2.4.6</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gdbm">GDBM-1.12</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gperf">Gperf-3.0.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-expat">Expat-2.2.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-inetutils">Inetutils-1.9.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-perl">Perl-5.24.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-xml-parser">XML::Parser-2.44</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-intltool">Intltool-0.51.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-autoconf">Autoconf-2.69</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-automake">Automake-1.15</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-xz">Xz-5.2.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-kmod">Kmod-23</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gettext">Gettext-0.19.8.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-procps">Procps-ng-3.3.12</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-e2fsprogs">E2fsprogs-1.43.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-coreutils">Coreutils-8.26</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-diffutils">Diffutils-3.5</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gawk">Gawk-4.1.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-findutils">Findutils-4.6.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-groff">Groff-1.22.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-grub">GRUB-2.02~beta3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-less">Less-481</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-gzip">Gzip-1.8</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-iproute2">IPRoute2-4.9.0</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-kbd">Kbd-2.0.4</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-libpipeline">Libpipeline-1.4.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-make">Make-4.2.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-patch">Patch-2.7.5</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-sysklogd">Sysklogd-1.5.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-sysvinit">Sysvinit-2.88dsf</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-eudev">Eudev-3.2.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-util-linux">Util-linux-2.29.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-man-db">Man-DB-2.7.6.1</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-tar">Tar-1.29</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-texinfo">Texinfo-6.3</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-vim">Vim-8.0.069</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-aboutdebug">About Debugging
                    Symbols</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-strippingagain">Stripping Again</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-system-revisedchroot">Cleaning Up</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  7. System Configuration
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-scripts-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-bootscripts">LFS-Bootscripts-20150222</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-udev">Overview of Device and Module
                    Handling</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-symlinks">Managing Devices</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-network">General Network
                    Configuration</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-usage">System V Bootscript Usage and
                    Configuration</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-profile">The Bash Shell Startup
                    Files</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-scripts-inputrc">Creating the /etc/inputrc
                    File</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-config-shells">Creating the /etc/shells
                    File</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  8. Making the LFS System Bootable
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-bootable-introduction">Introduction</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-bootable-fstab">Creating the /etc/fstab
                    File</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-bootable-kernel">Linux-4.9.9</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-bootable-grub">Using GRUB to Set Up the Boot
                    Process</a>
                  </li>
                </ul>
              </li>
              <li class="chapter">
                <h4>
                  9. The End
                </h4>
                <ul>
                  <li class="sect1">
                    <a href="#ch-finish-theend">The End</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-finish-getcounted">Get Counted</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-finish-reboot">Rebooting the System</a>
                  </li>
                  <li class="sect1">
                    <a href="#ch-finish-whatnow">What Now?</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="part">
            <h3>
              IV. Appendices
            </h3>
            <ul>
              <li class="appendix">
                <a href="#appendixa">A. Acronyms and Terms</a>
              </li>
              <li class="appendix">
                <a href="#appendixb">B. Acknowledgments</a>
              </li>
              <li class="appendix">
                <a href="#appendixc">C. Dependencies</a>
              </li>
              <li class="appendix">
                <a href="#scripts">D. Boot and sysconfig scripts
                version-20150222</a>
                <ul>
                  <li class="sect1">
                    <a href="#rc">/etc/rc.d/init.d/rc</a>
                  </li>
                  <li class="sect1">
                    <a href="#init-functions">/lib/lsb/init-functions</a>
                  </li>
                  <li class="sect1">
                    <a href="#mountvirtfs">/etc/rc.d/init.d/mountvirtfs</a>
                  </li>
                  <li class="sect1">
                    <a href="#modules">/etc/rc.d/init.d/modules</a>
                  </li>
                  <li class="sect1">
                    <a href="#udev">/etc/rc.d/init.d/udev</a>
                  </li>
                  <li class="sect1">
                    <a href="#swap">/etc/rc.d/init.d/swap</a>
                  </li>
                  <li class="sect1">
                    <a href="#setclock">/etc/rc.d/init.d/setclock</a>
                  </li>
                  <li class="sect1">
                    <a href="#checkfs">/etc/rc.d/init.d/checkfs</a>
                  </li>
                  <li class="sect1">
                    <a href="#mountfs">/etc/rc.d/init.d/mountfs</a>
                  </li>
                  <li class="sect1">
                    <a href="#udev_retry">/etc/rc.d/init.d/udev_retry</a>
                  </li>
                  <li class="sect1">
                    <a href="#cleanfs">/etc/rc.d/init.d/cleanfs</a>
                  </li>
                  <li class="sect1">
                    <a href="#console">/etc/rc.d/init.d/console</a>
                  </li>
                  <li class="sect1">
                    <a href="#localnet">/etc/rc.d/init.d/localnet</a>
                  </li>
                  <li class="sect1">
                    <a href="#sysctlscript">/etc/rc.d/init.d/sysctl</a>
                  </li>
                  <li class="sect1">
                    <a href="#sysklogd">/etc/rc.d/init.d/sysklogd</a>
                  </li>
                  <li class="sect1">
                    <a href="#network">/etc/rc.d/init.d/network</a>
                  </li>
                  <li class="sect1">
                    <a href="#sendsignals">/etc/rc.d/init.d/sendsignals</a>
                  </li>
                  <li class="sect1">
                    <a href="#rebootscript">/etc/rc.d/init.d/reboot</a>
                  </li>
                  <li class="sect1">
                    <a href="#haltscript">/etc/rc.d/init.d/halt</a>
                  </li>
                  <li class="sect1">
                    <a href="#template">/etc/rc.d/init.d/template</a>
                  </li>
                  <li class="sect1">
                    <a href="#modulessys">/etc/sysconfig/modules</a>
                  </li>
                  <li class="sect1">
                    <a href="#createfiles">/etc/sysconfig/createfiles</a>
                  </li>
                  <li class="sect1">
                    <a href="#config-udev-retry">/etc/sysconfig/udev-retry</a>
                  </li>
                  <li class="sect1">
                    <a href="#ifup">/sbin/ifup</a>
                  </li>
                  <li class="sect1">
                    <a href="#ifdown">/sbin/ifdown</a>
                  </li>
                  <li class="sect1">
                    <a href="#ipv4static">/lib/services/ipv4-static</a>
                  </li>
                  <li class="sect1">
                    <a href="#ipv4route">/lib/services/ipv4-static-route</a>
                  </li>
                </ul>
              </li>
              <li class="appendix">
                <a href="#rules">E. Udev configuration rules</a>
                <ul>
                  <li class="sect1">
                    <a href="#lfsrules">55-lfs.rules</a>
                  </li>
                </ul>
              </li>
              <li class="appendix">
                <a href="#Licenses">F. LFS Licenses</a>
                <ul>
                  <li class="sect1">
                    <a href="#CC">Creative Commons License</a>
                  </li>
                  <li class="sect1">
                    <a href="#MIT">The MIT License</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="index">
            <h3>
              <a href="#idp47458794343456">Index</a>
            </h3>
          </li>
        </ul>
      </div>
      <div class="preface" xml:lang="en" lang="en">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title">
                <a id="preface" name="preface"></a>Preface
              </h1>
            </div>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-foreword" name="pre-foreword"></a>Foreword
                </h2>
              </div>
            </div>
          </div>
          <p>
            My journey to learn and better understand Linux began over a
            decade ago, back in 1998. I had just installed my first Linux
            distribution and had quickly become intrigued with the whole
            concept and philosophy behind Linux.
          </p>
          <p>
            There are always many ways to accomplish a single task. The same
            can be said about Linux distributions. A great many have existed
            over the years. Some still exist, some have morphed into
            something else, yet others have been relegated to our memories.
            They all do things differently to suit the needs of their target
            audience. Because so many different ways to accomplish the same
            end goal exist, I began to realize I no longer had to be limited
            by any one implementation. Prior to discovering Linux, we simply
            put up with issues in other Operating Systems as you had no
            choice. It was what it was, whether you liked it or not. With
            Linux, the concept of choice began to emerge. If you didn't like
            something, you were free, even encouraged, to change it.
          </p>
          <p>
            I tried a number of distributions and could not decide on any
            one. They were great systems in their own right. It wasn't a
            matter of right and wrong anymore. It had become a matter of
            personal taste. With all that choice available, it became
            apparent that there would not be a single system that would be
            perfect for me. So I set out to create my own Linux system that
            would fully conform to my personal preferences.
          </p>
          <p>
            To truly make it my own system, I resolved to compile everything
            from source code instead of using pre-compiled binary packages.
            This <span class="quote">“<span class="quote">perfect</span>”</span> Linux system would have the
            strengths of various systems without their perceived weaknesses.
            At first, the idea was rather daunting. I remained committed to
            the idea that such a system could be built.
          </p>
          <p>
            After sorting through issues such as circular dependencies and
            compile-time errors, I finally built a custom-built Linux system.
            It was fully operational and perfectly usable like any of the
            other Linux systems out there at the time. But it was my own
            creation. It was very satisfying to have put together such a
            system myself. The only thing better would have been to create
            each piece of software myself. This was the next best thing.
          </p>
          <p>
            As I shared my goals and experiences with other members of the
            Linux community, it became apparent that there was a sustained
            interest in these ideas. It quickly became plain that such
            custom-built Linux systems serve not only to meet user specific
            requirements, but also serve as an ideal learning opportunity for
            programmers and system administrators to enhance their (existing)
            Linux skills. Out of this broadened interest, the <span class="emphasis"><em>Linux From Scratch Project</em></span> was born.
          </p>
          <p>
            This Linux From Scratch book is the central core around that
            project. It provides the background and instructions necessary
            for you to design and build your own system. While this book
            provides a template that will result in a correctly working
            system, you are free to alter the instructions to suit yourself,
            which is, in part, an important part of this project. You remain
            in control; we just lend a helping hand to get you started on
            your own journey.
          </p>
          <p>
            I sincerely hope you will have a great time working on your own
            Linux From Scratch system and enjoy the numerous benefits of
            having a system that is truly your own.
          </p>
          <div class="literallayout">
            <p>
              --<br>
              Gerard&nbsp;Beekmans<br>
              gerard AT linuxfromscratch D0T org
            </p>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-audience" name="pre-audience"></a>Audience
                </h2>
              </div>
            </div>
          </div>
          <p>
            There are many reasons why you would want to read this book. One
            of the questions many people raise is, <span class="quote">“<span class="quote">why go through all the hassle
            of manually building a Linux system from scratch when you can
            just download and install an existing one?</span>”</span>
          </p>
          <p>
            One important reason for this project's existence is to help you
            learn how a Linux system works from the inside out. Building an
            LFS system helps demonstrate what makes Linux tick, and how
            things work together and depend on each other. One of the best
            things that this learning experience can provide is the ability
            to customize a Linux system to suit your own unique needs.
          </p>
          <p>
            Another key benefit of LFS is that it allows you to have more
            control over the system without relying on someone else's Linux
            implementation. With LFS, you are in the driver's seat and
            dictate every aspect of the system.
          </p>
          <p>
            LFS allows you to create very compact Linux systems. When
            installing regular distributions, you are often forced to install
            a great many programs which are probably never used or
            understood. These programs waste resources. You may argue that
            with today's hard drive and CPUs, such resources are no longer a
            consideration. Sometimes, however, you are still constrained by
            size considerations if nothing else. Think about bootable CDs,
            USB sticks, and embedded systems. Those are areas where LFS can
            be beneficial.
          </p>
          <p>
            Another advantage of a custom built Linux system is security. By
            compiling the entire system from source code, you are empowered
            to audit everything and apply all the security patches desired.
            It is no longer necessary to wait for somebody else to compile
            binary packages that fix a security hole. Unless you examine the
            patch and implement it yourself, you have no guarantee that the
            new binary package was built correctly and adequately fixes the
            problem.
          </p>
          <p>
            The goal of Linux From Scratch is to build a complete and usable
            foundation-level system. If you do not wish to build your own
            Linux system from scratch, you may not entirely benefit from the
            information in this book.
          </p>
          <p>
            There are too many other good reasons to build your own LFS
            system to list them all here. In the end, education is by far the
            most powerful of reasons. As you continue in your LFS experience,
            you will discover the power that information and knowledge truly
            bring.
          </p>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-architecture" name="pre-architecture"></a>LFS
                  Target Architectures
                </h2>
              </div>
            </div>
          </div>
          <p>
            The primary target architectures of LFS are the AMD/Intel x86
            (32-bit) and x86_64 (64-bit) CPUs. On the other hand, the
            instructions in this book are also known to work, with some
            modifications, with the Power PC and ARM CPUs. To build a system
            that utilizes one of these CPUs, the main prerequisite, in
            addition to those on the next few pages, is an existing Linux
            system such as an earlier LFS installation, Ubuntu, Red
            Hat/Fedora, SuSE, or other distribution that targets the
            architecture that you have. Also note that a 32-bit distribution
            can be installed and used as a host system on a 64-bit AMD/Intel
            computer.
          </p>
          <p>
            Some other facts about 64-bit systems need to be added here. When
            compared to a 32-bit system, the sizes of executable programs are
            slightly larger and the execution speeds are only slightly
            faster. For example, in a test build of LFS-6.5 on a Core2Duo CPU
            based system, the following statistics were measured:
          </p>
          <pre class="screen"><code class="computeroutput">Architecture Build Time     Build Size
32-bit       198.5 minutes  648 MB
64-bit       190.6 minutes  709 MB</code>
</pre>
          <p>
            As you can see, the 64-bit build is only 4% faster and is 9%
            larger than the 32-bit build. The gain from going to a 64-bit
            system is relatively minimal. Of course, if you have more than
            4GB of RAM or want to manipulate data that exceeds 4GB, the
            advantages of a 64-bit system are substantial.
          </p>
          <p>
            The default 64-bit build that results from LFS is considered a
            "pure" 64-bit system. That is, it supports 64-bit executables
            only. Building a "multi-lib" system requires compiling many
            applications twice, once for a 32-bit system and once for a
            64-bit system. This is not directly supported in LFS because it
            would interfere with the educational objective of providing the
            instructions needed for a straightforward base Linux system. You
            can refer to the <a class="ulink" href="http://trac.clfs.org/">Cross Linux From Scratch</a> project for
            this advanced topic.
          </p>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-standards" name="pre-standards"></a>LFS and
                  Standards
                </h2>
              </div>
            </div>
          </div>
          <p>
            The structure of LFS follows Linux standards as closely as
            possible. The primary standards are:
          </p>
          <div class="itemizedlist">
            <ul>
              <li class="listitem">
                <p>
                  <a class="ulink" href="http://pubs.opengroup.org/onlinepubs/9699919799/">POSIX.1-2008</a>.
                </p>
              </li>
              <li class="listitem">
                <p>
                  <a class="ulink" href="http://refspecs.linuxfoundation.org/fhs.shtml">Filesystem
                  Hierarchy Standard (FHS) Version 3.0</a>
                </p>
              </li>
              <li class="listitem">
                <p>
                  <a class="ulink" href="http://refspecs.linuxfoundation.org/lsb.shtml">Linux
                  Standard Base (LSB) Version 5.0</a>
                </p>
                <p>
                  The LSB has four separate standards: Core, Desktop, Runtime
                  Languages, and Imaging. In addition to generic requirements
                  there are also architecture specific requirements. There
                  are also two areas for trial use: Gtk3 and Graphics. LFS
                  attempts to conform to the architectures discussed in the
                  previous section.
                </p>
                <div class="admon note">
                  <h3>
                    Note
                  </h3>
                  <p>
                    Many people do not agree with the requirements of the
                    LSB. The main purpose of defining it is to ensure that
                    proprietary software will be able to be installed and run
                    properly on a compliant system. Since LFS is source
                    based, the user has complete control over what packages
                    are desired and many choose not to install some packages
                    that are specified by the LSB.
                  </p>
                </div>
              </li>
            </ul>
          </div>
          <p>
            Creating a complete LFS system capable of passing the LSB
            certifications tests is possible, but not without many additional
            packages that are beyond the scope of LFS. These additional
            packages have installation instructions in BLFS.
          </p>
          <div class="variablelist">
            <h4>
              <a id="idp47458783930592" name="idp47458783930592"></a>Packages
              supplied by LFS needed to satisfy the LSB Requirements
            </h4>
            <table class="variablelist" border="0">
              <colgroup>
                <col valign="top" align="left">
                <col>
              </colgroup>
              <tbody>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Core:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      Bash, Bc, Binutils, Coreutils, Diffutils, File,
                      Findutils, Gawk, Grep, Gzip, M4, Man-DB, Ncurses,
                      Procps, Psmisc, Sed, Shadow, Tar, Util-linux, Zlib
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Desktop:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Runtime Languages:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      Perl
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Imaging:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB Gtk3
                      and LSB Graphics (Trial Use):</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="variablelist">
            <h4>
              <a id="idp47458783940832" name="idp47458783940832"></a>Packages
              supplied by BLFS needed to satisfy the LSB Requirements
            </h4>
            <table class="variablelist" border="0">
              <colgroup>
                <col valign="top" align="left">
                <col>
              </colgroup>
              <tbody>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Core:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      At, Batch (a part of At), Cpio, Ed, Fcrontab,
                      Initd-tools, Lsb_release, NSPR, NSS, PAM, Pax, Sendmail
                      (or Postfix or Exim), time
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Desktop:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      Alsa, ATK, Cairo, Desktop-file-utils, Freetype,
                      Fontconfig, Gdk-pixbuf, Glib2, GTK+2,
                      Icon-naming-utils, Libjpeg-turbo, Libpng, Libtiff,
                      Libxml2, MesaLib, Pango, Qt4, Xdg-utils, Xorg
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Runtime Languages:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      Python, Libxml2, Libxslt
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Imaging:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      CUPS, Cups-filters, Ghostscript, SANE
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB Gtk3
                      and LSB Graphics (Trial Use):</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      GTK+3
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="variablelist">
            <h4>
              <a id="idp47458783951152" name="idp47458783951152"></a>Packages
              not supplied by LFS or BLFS needed to satisfy the LSB
              Requirements
            </h4>
            <table class="variablelist" border="0">
              <colgroup>
                <col valign="top" align="left">
                <col>
              </colgroup>
              <tbody>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Core:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Desktop:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Runtime Languages:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB
                      Imaging:</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p>
                      <span class="term"><span class="emphasis"><em>LSB Gtk3
                      and LSB Graphics (Trial Use):</em></span></span>
                    </p>
                  </td>
                  <td>
                    <p>
                      None
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-why" name="pre-why"></a>Rationale for Packages
                  in the Book
                </h2>
              </div>
            </div>
          </div>
          <p>
            As stated earlier, the goal of LFS is to build a complete and
            usable foundation-level system. This includes all packages needed
            to replicate itself while providing a relatively minimal base
            from which to customize a more complete system based on the
            choices of the user. This does not mean that LFS is the smallest
            system possible. Several important packages are included that are
            not strictly required. The lists below document the rationale for
            each package in the book.
          </p>
          <div class="itemizedlist">
            <ul>
              <li class="listitem">
                <p>
                  Acl
                </p>
                <p>
                  This package contains utilities to administer Access
                  Control Lists, which are used to define more fine-grained
                  discretionary access rights for files and directories.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Attr
                </p>
                <p>
                  This package contains programs for administering extended
                  attributes on filesystem objects.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Autoconf
                </p>
                <p>
                  This package contains programs for producing shell scripts
                  that can automatically configure source code from a
                  developer's template. It is often needed to rebuild a
                  package after updates to the build procedures.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Automake
                </p>
                <p>
                  This package contains programs for generating Make files
                  from a template. It is often needed to rebuild a package
                  after updates to the build procedures.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Bash
                </p>
                <p>
                  This package satisfies an LSB core requirement to provide a
                  Bourne Shell interface to the system. It was chosen over
                  other shell packages because of its common usage and
                  extensive capabilities beyond basic shell functions.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Bc
                </p>
                <p>
                  This package provides an arbitrary precision numeric
                  processing language. It satisfies a requirement needed when
                  building the Linux kernel.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Binutils
                </p>
                <p>
                  This package contains a linker, an assembler, and other
                  tools for handling object files. The programs in this
                  package are needed to compile most of the packages in an
                  LFS system and beyond.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Bison
                </p>
                <p>
                  This package contains the GNU version of yacc (Yet Another
                  Compiler Compiler) needed to build several other LFS
                  programs.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Bzip2
                </p>
                <p>
                  This package contains programs for compressing and
                  decompressing files. It is required to decompress many LFS
                  packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Check
                </p>
                <p>
                  This package contains a test harness for other programs. It
                  is only installed in the temporary toolchain.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Coreutils
                </p>
                <p>
                  This package contains a number of essential programs for
                  viewing and manipulating files and directories. These
                  programs are needed for command line file management, and
                  are necessary for the installation procedures of every
                  package in LFS.
                </p>
              </li>
              <li class="listitem">
                <p>
                  DejaGNU
                </p>
                <p>
                  This package contains a framework for testing other
                  programs. It is only installed in the temporary toolchain.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Diffutils
                </p>
                <p>
                  This package contains programs that show the differences
                  between files or directories. These programs can be used to
                  create patches, and are also used in many packages' build
                  procedures.
                </p>
              </li>
              <li class="listitem">
                <p>
                  E2fsprogs
                </p>
                <p>
                  This package contains the utilities for handling the ext2,
                  ext3 and ext4 file systems. These are the most common and
                  thoroughly tested file systems that Linux supports.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Eudev
                </p>
                <p>
                  This package is a device manager. It dynamically controls
                  the entries in the /dev directory as devices are added or
                  removed from the system.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Expat
                </p>
                <p>
                  This package contains a relatively small XML parsing
                  library. It is required by the XML::Parser Perl module.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Expect
                </p>
                <p>
                  This package contains a program for carrying out scripted
                  dialogues with other interactive programs. It is commonly
                  used for testing other packages. It is only installed in
                  the temporary toolchain.
                </p>
              </li>
              <li class="listitem">
                <p>
                  File
                </p>
                <p>
                  This package contains a utility for determining the type of
                  a given file or files. A few packages need it to build.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Findutils
                </p>
                <p>
                  This package contains programs to find files in a file
                  system. It is used in many packages' build scripts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Flex
                </p>
                <p>
                  This package contains a utility for generating programs
                  that recognize patterns in text. It is the GNU version of
                  the lex (lexical analyzer) program. It is required to build
                  several LFS packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Gawk
                </p>
                <p>
                  This package contains programs for manipulating text files.
                  It is the GNU version of awk (Aho-Weinberg-Kernighan). It
                  is used in many other packages' build scripts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Gcc
                </p>
                <p>
                  This package is the Gnu Compiler Collection. It contains
                  the C and C++ compilers as well as several others not built
                  by LFS.
                </p>
              </li>
              <li class="listitem">
                <p>
                  GDBM
                </p>
                <p>
                  This package contains the GNU Database Manager library. It
                  is used by one other LFS package, Man-DB.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Gettext
                </p>
                <p>
                  This package contains utilities and libraries for
                  internationalization and localization of numerous packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Glibc
                </p>
                <p>
                  This package contains the main C library. Linux programs
                  would not run without it.
                </p>
              </li>
              <li class="listitem">
                <p>
                  GMP
                </p>
                <p>
                  This package contains math libraries that provide useful
                  functions for arbitrary precision arithmetic. It is
                  required to build Gcc.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Gperf
                </p>
                <p>
                  This package contains a program that generates a perfect
                  hash function from a key set. It is required for Eudev.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Grep
                </p>
                <p>
                  This package contains programs for searching through files.
                  These programs are used by most packages' build scripts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Groff
                </p>
                <p>
                  This package contains programs for processing and
                  formatting text. One important function of these programs
                  is to format man pages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  GRUB
                </p>
                <p>
                  This package is the Grand Unified Boot Loader. It is one of
                  several boot loaders available, but is the most flexible.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Gzip
                </p>
                <p>
                  This package contains programs for compressing and
                  decompressing files. It is needed to decompress many
                  packages in LFS and beyond.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Iana-etc
                </p>
                <p>
                  This package provides data for network services and
                  protocols. It is needed to enable proper networking
                  capabilities.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Inetutils
                </p>
                <p>
                  This package contains programs for basic network
                  administration.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Intltool
                </p>
                <p>
                  This package contains tools for extracting translatable
                  strings from source files.
                </p>
              </li>
              <li class="listitem">
                <p>
                  IProute2
                </p>
                <p>
                  This package contains programs for basic and advanced IPv4
                  and IPv6 networking. It was chosen over the other common
                  network tools package (net-tools) for its IPv6
                  capabilities.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Kbd
                </p>
                <p>
                  This package contains key-table files, keyboard utilities
                  for non-US keyboards, and a number of console fonts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Kmod
                </p>
                <p>
                  This package contains programs needed to administer Linux
                  kernel modules.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Less
                </p>
                <p>
                  This package contains a very nice text file viewer that
                  allows scrolling up or down when viewing a file. It is also
                  used by Man-DB for viewing manpages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Libcap
                </p>
                <p>
                  This package implements the user-space interfaces to the
                  POSIX 1003.1e capabilities available in Linux kernels.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Libpipeline
                </p>
                <p>
                  The Libpipeline package contains a library for manipulating
                  pipelines of subprocesses in a flexible and convenient way.
                  It is required by the Man-DB package.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Libtool
                </p>
                <p>
                  This package contains the GNU generic library support
                  script. It wraps the complexity of using shared libraries
                  in a consistent, portable interface. It is needed by the
                  test suites in other LFS packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Linux Kernel
                </p>
                <p>
                  This package is the Operating System. It is the Linux in
                  the GNU/Linux environment.
                </p>
              </li>
              <li class="listitem">
                <p>
                  M4
                </p>
                <p>
                  This package contains a general text macro processor useful
                  as a build tool for other programs.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Make
                </p>
                <p>
                  This package contains a program for directing the building
                  of packages. It is required by almost every package in LFS.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Man-DB
                </p>
                <p>
                  This package contains programs for finding and viewing man
                  pages. It was chosen instead of the <span class="application">man</span> package due to superior
                  internationalization capabilities. It supplies the man
                  program.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Man-pages
                </p>
                <p>
                  This package contains the actual contents of the basic
                  Linux man pages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  MPC
                </p>
                <p>
                  This package contains functions for the arithmetic of
                  complex numbers. It is required by Gcc.
                </p>
              </li>
              <li class="listitem">
                <p>
                  MPFR
                </p>
                <p>
                  This package contains functions for multiple precision
                  arithmetic. It is required by Gcc.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Ncurses
                </p>
                <p>
                  This package contains libraries for terminal-independent
                  handling of character screens. It is often used to provide
                  cursor control for a menuing system. It is needed by a
                  number of packages in LFS.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Patch
                </p>
                <p>
                  This package contains a program for modifying or creating
                  files by applying a <span class="emphasis"><em>patch</em></span> file typically created by
                  the <span class="application">diff</span> program. It is
                  needed by the build procedure for several LFS packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Perl
                </p>
                <p>
                  This package is an interpreter for the runtime language
                  PERL. It is needed for the installation and test suites of
                  several LFS packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Pkg-config
                </p>
                <p>
                  This package provides a program to return meta-data about
                  an installed library or package.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Procps-NG
                </p>
                <p>
                  This package contains programs for monitoring processes.
                  These programs are useful for system administration, and
                  are also used by the LFS Bootscripts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Psmisc
                </p>
                <p>
                  This package contains programs for displaying information
                  about running processes. These programs are useful for
                  system administration.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Readline
                </p>
                <p>
                  This package is a set of libraries that offers command-line
                  editing and history capabilities. It is used by Bash.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Sed
                </p>
                <p>
                  This package allows editing of text without opening it in a
                  text editor. It is also needed by most LFS packages'
                  configure scripts.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Shadow
                </p>
                <p>
                  This package contains programs for handling passwords in a
                  secure way.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Sysklogd
                </p>
                <p>
                  This package contains programs for logging system messages,
                  such as those given by the kernel or daemon processes when
                  unusual events occur.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Sysvinit
                </p>
                <p>
                  This package provides the <span class="application">init</span> program, which is the parent of
                  all other processes on the Linux system.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Tar
                </p>
                <p>
                  This package provides archiving and extraction capabilities
                  of virtually all packages used in LFS.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Tcl
                </p>
                <p>
                  This package contains the Tool Command Language used in
                  many test suites in LFS packages. It is only installed in
                  the temporary toolchain.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Texinfo
                </p>
                <p>
                  This package contains programs for reading, writing, and
                  converting info pages. It is used in the installation
                  procedures of many LFS packages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Util-linux
                </p>
                <p>
                  This package contains miscellaneous utility programs. Among
                  them are utilities for handling file systems, consoles,
                  partitions, and messages.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Vim
                </p>
                <p>
                  This package contains an editor. It was chosen because of
                  its compatibility with the classic vi editor and its huge
                  number of powerful capabilities. An editor is a very
                  personal choice for many users and any other editor could
                  be substituted if desired.
                </p>
              </li>
              <li class="listitem">
                <p>
                  XML::Parser
                </p>
                <p>
                  This package is a Perl module that interfaces with Expat.
                </p>
              </li>
              <li class="listitem">
                <p>
                  XZ Utils
                </p>
                <p>
                  This package contains programs for compressing and
                  decompressing files. It provides the highest compression
                  generally available and is useful for decompressing
                  packages in XZ or LZMA format.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Zlib
                </p>
                <p>
                  This package contains compression and decompression
                  routines used by some programs.
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-prerequisites" name="pre-prerequisites"></a>Prerequisites
                </h2>
              </div>
            </div>
          </div>
          <p>
            Building an LFS system is not a simple task. It requires a
            certain level of existing knowledge of Unix system administration
            in order to resolve problems and correctly execute the commands
            listed. In particular, as an absolute minimum, you should already
            have the ability to use the command line (shell) to copy or move
            files and directories, list directory and file contents, and
            change the current directory. It is also expected that you have a
            reasonable knowledge of using and installing Linux software.
          </p>
          <p>
            Because the LFS book assumes <span class="emphasis"><em>at
            least</em></span> this basic level of skill, the various LFS
            support forums are unlikely to be able to provide you with much
            assistance in these areas. You will find that your questions
            regarding such basic knowledge will likely go unanswered or you
            will simply be referred to the LFS essential pre-reading list.
          </p>
          <p>
            Before building an LFS system, we recommend reading the
            following:
          </p>
          <div class="itemizedlist">
            <ul>
              <li class="listitem">
                <p>
                  Software-Building-HOWTO <a class="ulink" href="http://www.tldp.org/HOWTO/Software-Building-HOWTO.html">http://www.tldp.org/HOWTO/Software-Building-HOWTO.html</a>
                </p>
                <p>
                  This is a comprehensive guide to building and installing
                  <span class="quote">“<span class="quote">generic</span>”</span> Unix software packages
                  under Linux. Although it was written some time ago, it
                  still provides a good summary of the basic techniques
                  needed to build and install software.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Beginner's Guide to Installing from Source <a class="ulink" href="http://moi.vonos.net/linux/beginners-installing-from-source/">
                  http://moi.vonos.net/linux/beginners-installing-from-source/</a>
                </p>
                <p>
                  This guide provides a good summary of basic skills and
                  techniques needed to build software from source code.
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-typography" name="pre-typography"></a>Typography
                </h2>
              </div>
            </div>
          </div>
          <p>
            To make things easier to follow, there are a few typographical
            conventions used throughout this book. This section contains some
            examples of the typographical format found throughout Linux From
            Scratch.
          </p>
          <pre class="userinput"><kbd class="command">./configure --prefix=/usr</kbd>
</pre>
          <p>
            This form of text is designed to be typed exactly as seen unless
            otherwise noted in the surrounding text. It is also used in the
            explanation sections to identify which of the commands is being
            referenced.
          </p>
          <p>
            In some cases, a logical line is extended to two or more physical
            lines with a backslash at the end of the line.
          </p>
          <pre class="userinput"><kbd class="command">CC="gcc -B/usr/bin/" ../binutils-2.18/configure \
  --prefix=/tools --disable-nls --disable-werror</kbd>
</pre>
          <p>
            Note that the backslash must be followed by an immediate return.
            Other whitespace characters like spaces or tab characters will
            create incorrect results.
          </p>
          <pre class="screen"><code class="computeroutput">install-info: unknown option '--dir-file=/mnt/lfs/usr/info/dir'</code>
</pre>
          <p>
            This form of text (fixed-width text) shows screen output, usually
            as the result of commands issued. This format is also used to
            show filenames, such as <code class="filename">/etc/ld.so.conf</code>.
          </p>
          <p>
            <span class="emphasis"><em>Emphasis</em></span>
          </p>
          <p>
            This form of text is used for several purposes in the book. Its
            main purpose is to emphasize important points or items.
          </p>
          <p>
            <a class="ulink" href="http://www.linuxfromscratch.org/">http://www.linuxfromscratch.org/</a>
          </p>
          <p>
            This format is used for hyperlinks both within the LFS community
            and to external pages. It includes HOWTOs, download locations,
            and websites.
          </p>
          <pre class="userinput"><kbd class="command">cat &gt; $LFS/etc/group &lt;&lt; "EOF"
<code class="literal">root:x:0:
bin:x:1:
......</code>
EOF</kbd>
</pre>
          <p>
            This format is used when creating configuration files. The first
            command tells the system to create the file <code class="filename">$LFS/etc/group</code> from whatever is typed on the
            following lines until the sequence End Of File (EOF) is
            encountered. Therefore, this entire section is generally typed as
            seen.
          </p>
          <p>
            <em class="replaceable"><code>&lt;REPLACED TEXT&gt;</code></em>
          </p>
          <p>
            This format is used to encapsulate text that is not to be typed
            as seen or for copy-and-paste operations.
          </p>
          <p>
            <em class="replaceable"><code>[OPTIONAL TEXT]</code></em>
          </p>
          <p>
            This format is used to encapsulate text that is optional.
          </p>
          <p>
            <code class="filename">passwd(5)</code>
          </p>
          <p>
            This format is used to refer to a specific manual (man) page. The
            number inside parentheses indicates a specific section inside the
            manuals. For example, <span class="command"><strong>passwd</strong></span> has two man pages. Per
            LFS installation instructions, those two man pages will be
            located at <code class="filename">/usr/share/man/man1/passwd.1</code> and <code class="filename">/usr/share/man/man5/passwd.5</code>. When the book
            uses <code class="filename">passwd(5)</code> it is specifically
            referring to <code class="filename">/usr/share/man/man5/passwd.5</code>. <span class="command"><strong>man passwd</strong></span> will print the first
            man page it finds that matches <span class="quote">“<span class="quote">passwd</span>”</span>,
            which will be <code class="filename">/usr/share/man/man1/passwd.1</code>. For this example,
            you will need to run <span class="command"><strong>man 5
            passwd</strong></span> in order to read the specific page being
            referred to. It should be noted that most man pages do not have
            duplicate page names in different sections. Therefore,
            <span class="command"><strong>man <em class="replaceable"><code>&lt;program
            name&gt;</code></em></strong></span> is generally sufficient.
          </p>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-organization" name="pre-organization"></a>Structure
                </h2>
              </div>
            </div>
          </div>
          <p>
            This book is divided into the following parts.
          </p>
          <div class="sect2" xml:lang="en" lang="en">
            <h3 class="sect2">
              Part I - Introduction
            </h3>
            <p>
              Part I explains a few important notes on how to proceed with
              the LFS installation. This section also provides
              meta-information about the book.
            </p>
          </div>
          <div class="sect2" xml:lang="en" lang="en">
            <h3 class="sect2">
              Part II - Preparing for the Build
            </h3>
            <p>
              Part II describes how to prepare for the building
              process—making a partition, downloading the packages, and
              compiling temporary tools.
            </p>
          </div>
          <div class="sect2" xml:lang="en" lang="en">
            <h3 class="sect2">
              Part III - Building the LFS System
            </h3>
            <p>
              Part III guides the reader through the building of the LFS
              system—compiling and installing all the packages one by
              one, setting up the boot scripts, and installing the kernel.
              The resulting Linux system is the foundation on which other
              software can be built to expand the system as desired. At the
              end of this book, there is an easy to use reference listing all
              of the programs, libraries, and important files that have been
              installed.
            </p>
          </div>
        </div>
        <div class="sect1" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="pre-errata" name="pre-errata"></a>Errata
                </h2>
              </div>
            </div>
          </div>
          <p>
            The software used to create an LFS system is constantly being
            updated and enhanced. Security warnings and bug fixes may become
            available after the LFS book has been released. To check whether
            the package versions or instructions in this release of LFS need
            any modifications to accommodate security vulnerabilities or
            other bug fixes, please visit <a class="ulink" href="http://www.linuxfromscratch.org/lfs/errata/8.0/">http://www.linuxfromscratch.org/lfs/errata/8.0/</a>
            before proceeding with your build. You should note any changes
            shown and apply them to the relevant section of the book as you
            progress with building the LFS system.
          </p>
        </div>
      </div>
      <div class="part">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title">
                <a id="part1" name="part1"></a>Part&nbsp;I.&nbsp;Introduction
              </h1>
            </div>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-intro" name="chapter-intro"></a>Chapter&nbsp;1.&nbsp;Introduction
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-intro-how" name="ch-intro-how"></a>1.1.&nbsp;How to Build an LFS System
                  </h2>
                </div>
              </div>
            </div>
            <p>
              The LFS system will be built by using an already installed
              Linux distribution (such as Debian, OpenMandriva, Fedora, or
              openSUSE). This existing Linux system (the host) will be used
              as a starting point to provide necessary programs, including a
              compiler, linker, and shell, to build the new system. Select
              the <span class="quote">“<span class="quote">development</span>”</span> option during the
              distribution installation to be able to access these tools.
            </p>
            <p>
              As an alternative to installing a separate distribution onto
              your machine, you may wish to use a LiveCD from a commercial
              distribution.
            </p>
            <p>
              <a class="xref" href="#chapter-partitioning" title="Chapter&nbsp;2.&nbsp;Preparing the Host System">Chapter 2</a>
              of this book describes how to create a new Linux native
              partition and file system. This is the place where the new LFS
              system will be compiled and installed. <a class="xref" href="#chapter-getting-materials" title="Chapter&nbsp;3.&nbsp;Packages and Patches">Chapter 3</a>
              explains which packages and patches need to be downloaded to
              build an LFS system and how to store them on the new file
              system. <a class="xref" href="#chapter-final-preps" title="Chapter&nbsp;4.&nbsp;Final Preparations">Chapter 4</a>
              discusses the setup of an appropriate working environment.
              Please read <a class="xref" href="#chapter-final-preps" title="Chapter&nbsp;4.&nbsp;Final Preparations">Chapter 4</a>
              carefully as it explains several important issues you need be
              aware of before beginning to work your way through <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> and beyond.
            </p>
            <p>
              <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> explains the installation of a number of packages that
              will form the basic development suite (or toolchain) which is
              used to build the actual system in <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
              6</a>. Some of these packages are needed to resolve circular
              dependencies—for example, to compile a compiler, you need
              a compiler.
            </p>
            <p>
              <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> also shows you how to build a first pass of the
              toolchain, including Binutils and GCC (first pass basically
              means these two core packages will be reinstalled). The next
              step is to build Glibc, the C library. Glibc will be compiled
              by the toolchain programs built in the first pass. Then, a
              second pass of the toolchain will be built. This time, the
              toolchain will be dynamically linked against the newly built
              Glibc. The remaining <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> packages are built using this second pass toolchain. When
              this is done, the LFS installation process will no longer
              depend on the host distribution, with the exception of the
              running kernel.
            </p>
            <p>
              This effort to isolate the new system from the host
              distribution may seem excessive. A full technical explanation
              as to why this is done is provided in <a class="xref" href="#ch-tools-toolchaintechnotes" title="5.2.&nbsp;Toolchain Technical Notes">Section&nbsp;5.2,
              “Toolchain Technical Notes”</a>.
            </p>
            <p>
              In <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
              6</a>, the full LFS system is built. The <span class="command"><strong>chroot</strong></span> (change root) program
              is used to enter a virtual environment and start a new shell
              whose root directory will be set to the LFS partition. This is
              very similar to rebooting and instructing the kernel to mount
              the LFS partition as the root partition. The system does not
              actually reboot, but instead uses <span class="command"><strong>chroot</strong></span> because creating a
              bootable system requires additional work which is not necessary
              just yet. The major advantage is that <span class="quote">“<span class="quote">chrooting</span>”</span> allows you to continue
              using the host system while LFS is being built. While waiting
              for package compilations to complete, you can continue using
              your computer as normal.
            </p>
            <p>
              To finish the installation, the basic system configuration is
              set up in <a class="xref" href="#chapter-bootscripts" title="Chapter&nbsp;7.&nbsp;System Configuration">Chapter 7</a>, and
              the kernel and boot loader are set up in <a class="xref" href="#chapter-bootable" title="Chapter&nbsp;8.&nbsp;Making the LFS System Bootable">Chapter
              8</a>. <a class="xref" href="#chapter-finalizing" title="Chapter&nbsp;9.&nbsp;The End">Chapter 9</a> contains
              information on continuing the LFS experience beyond this book.
              After the steps in this book have been implemented, the
              computer will be ready to reboot into the new LFS system.
            </p>
            <p>
              This is the process in a nutshell. Detailed information on each
              step is discussed in the following chapters and package
              descriptions. Items that may seem complicated will be
              clarified, and everything will fall into place as you embark on
              the LFS adventure.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-intro-whatsnew" name="ch-intro-whatsnew"></a>1.2.&nbsp;What's new since the
                    last release
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Below is a list of package updates made since the previous
              release of the book.
            </p>
            <div class="itemizedlist">
              <p class="title">
                <strong>Upgraded to:</strong>
              </p>
              <ul>
                <li class="listitem">
                  <p>
                    Bash 4.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Check 0.11.0
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Eudev 3.2.1
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    E2fsprogs 1.43.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    File 5.30
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Flex 2.6.3
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Gawk 4.1.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    GCC 6.3.0
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Glibc 2.25
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    GMP 6.1.2
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Grep 3.0
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    IPRoute2 4.9.0
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Kbd 2.0.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Linux 4.9.9
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Man-DB 2.7.6.1
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Man-pages 4.09
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    MPFR 3.1.5
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Perl 5.24.1
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Readline 7.0
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Sed 4.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Shadow 4.4
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Texinfo 6.3
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Tzdata 2016j
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Util-Linux 2.29.1
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Vim 8.0.069
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    XZ-Utils 5.2.3
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Zlib 1.2.11
                  </p>
                </li>
              </ul>
            </div>
            <div class="itemizedlist">
              <p class="title">
                <strong>Added:</strong>
              </p>
              <ul>
                <li class="listitem">
                  <p>
                    bash-4.4-upstream_fixes-1.patch
                  </p>
                </li>
              </ul>
            </div>
            <div class="itemizedlist">
              <p class="title">
                <strong>Removed:</strong>
              </p>
              <ul>
                <li class="listitem">
                  <p>
                    bash-4.3.30-upstream_fixes-3.patch
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    readline-6.3-upstream_fixes-3.patch
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-scatter-changelog" name="ch-scatter-changelog"></a>1.3.&nbsp;Changelog
                  </h2>
                </div>
              </div>
            </div>
            <p>
              This is version <span class="phrase">8.0</span> of the Linux
              From Scratch book, dated February 25, 2017. If this book is
              more than six months old, a newer and better version is
              probably already available. To find out, please check one of
              the mirrors via <a class="ulink" href="http://www.linuxfromscratch.org/mirrors.html">http://www.linuxfromscratch.org/mirrors.html</a>.
            </p>
            <p>
              Below is a list of changes made since the previous release of
              the book.
            </p>
            <div class="itemizedlist">
              <p class="title">
                <strong>Changelog Entries:</strong>
              </p>
              <ul>
                <li class="listitem">
                  <p>
                    2017-02-25
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - LFS-8.0 released.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [ken] - Comment out the test-lock test in
                          coreutils, findutils, gettext because on some
                          machines it now loops forever.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-19
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Add a fix (embeeded patch) to shadow to
                          fix an upstream bug.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-13
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to file-5.30. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4047">#4047</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-10
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to grep-3.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4045">#4045</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.9.9. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4046">#4046</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-08
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Restore chapter 5 build of bison for
                          binutils.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Build gold linker with binutils. The bfd
                          linker remains default.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-07
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Add bash-4.4 upstream fixes patch.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-02-05
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to glibc-2.25. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4043">#4043</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Revert gperf to version 3.0.4. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4044">#4044</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.9.8.tar.xz. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4036">#4036</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to check-0.11.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4035">#4035</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to shadow-4.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4037">#4037</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to e2fsprogs-1.43.4. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4039">#4039</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to sed-4.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4041">#4041</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-01-22
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.9.5.tar.xz. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4030">#4030</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to kbd-2.0.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4029">#4029</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to perl-5.24.1. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4031">#4031</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to zlib-1.2.11. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4032">#4032</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to util-linux-2.29.1. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4034">#4034</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-01-08
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.9.1.tar.xz. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4028">#4028</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to sed-4.3.tar.xz. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4025">#4025</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to gperf-3.1. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4026">#4026</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-01-03
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Update to zlib-1.2.10. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4023">#4023</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Update to m4-1.4.18. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4022">#4022</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Make binutils build against system zlib and
                          enable plugins for LTO.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2017-01-01
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to flex-2.6.3. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4020">#4020</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to xz-5.2.3. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4021">#4021</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-12-21
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to gcc-6.3.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4018">#4018</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to gmp-6.1.2. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4017">#4017</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to iproute2-4.9.0. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4016">#4016</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to man-pages-4.09. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4015">#4015</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to man-db-2.7.6.1. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4014">#4014</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.9. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4013">#4013</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to eudev-3.2.1. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4013">#4013</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-12-18
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Update toolchain sanity checks to use values
                          for x86_64.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-12-17
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Remove {,/usr}/lib64 symlinks for x86_64
                          builds. Add /lib64 directory with symlinks to
                          dynamic loader. Adjust installation of glibc, gcc,
                          and libcap to account for directory layout changes.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-12-10
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.8.14. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4012">#4012</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to grep-2.27. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4011">#4011</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Add a note about a false Error in
                          texinfo configure phase in Chapter 5. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4004">#4004</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-12-03
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Update to coreutils-8.26. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4010">#4010</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Update to linux-4.8.12 and fix recent OOM
                          issue. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4008">#4008</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Update to tzdata-2016j. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4007">#4007</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-11-22
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [dj] - Update to linux-4.8.10. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4005">#4005</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [dj] - Added flex-2.6.2-fixes-1.patch. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4003">#4003</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-11-17
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [renodr] - Update to linux-4.8.8. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4002">#4002</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-11-09
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to vim-8.0.069. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/4001">#4001</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to tzdata-2016i. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3999">#3999</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to file-5.29. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3909">#3998</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to flex-2.6.2. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3997">#3997</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.8.6. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3996">#3996</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to util-linux-2.29. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3987">#3987</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-11-07
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Clarified the function of /etc/inputrc.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-10-22
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [ken] - Update to iproute2-4.8.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3992">#3992</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [ken] - Update to tzdata-2016h. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3995">#3995</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [ken] - Update to linux-4.8.3. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3994">#3994</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-10-09
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.8.1. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3983">#3983</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to mpfr-3.1.5. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3984">#3984</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to tzdata-2016g. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3985">#3985</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to grep-2.26. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3988">#3988</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to man-pages-4.08. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3991">#3991</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-16
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to bash-4.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3981">#3981</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to readline-7.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3982">#3982</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.7.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3980">#3980</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-14
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to vim-8.0. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3979">#3979</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-12
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to texinfo-6.3. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3978">#3978</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-10
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to e2fsprogs-1.43.3. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3977">#3977</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-09
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to gawk-4.1.4. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3973">#3973</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to e2fsprogs-1.43.2. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3974">#3974</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to linux-4.7.3. Fixes <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3975">#3975</a>.
                        </p>
                      </li>
                      <li class="listitem">
                        <p>
                          [bdubbs] - Update to util-linux-2.28.2. Fixes
                          <a class="ulink" href="http://wiki.linuxfromscratch.org/lfs/ticket/3976">#3976</a>.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    2016-09-07
                  </p>
                  <div class="itemizedlist">
                    <ul>
                      <li class="listitem">
                        <p>
                          [bdubbs] - LFS-7.10 released.
                        </p>
                      </li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-intro-resources" name="ch-intro-resources"></a>1.4.&nbsp;Resources
                  </h2>
                </div>
              </div>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-intro-faq" name="ch-intro-faq"></a>1.4.1. FAQ
              </h3>
              <p>
                If during the building of the LFS system you encounter any
                errors, have any questions, or think there is a typo in the
                book, please start by consulting the Frequently Asked
                Questions (FAQ) that is located at <a class="ulink" href="http://www.linuxfromscratch.org/faq/">http://www.linuxfromscratch.org/faq/</a>.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-intro-maillists" name="ch-intro-maillists"></a>1.4.2. Mailing Lists
              </h3>
              <p>
                The <code class="uri">linuxfromscratch.org</code> server
                hosts a number of mailing lists used for the development of
                the LFS project. These lists include the main development and
                support lists, among others. If the FAQ does not solve the
                problem you are having, the next step would be to search the
                mailing lists at <a class="ulink" href="http://www.linuxfromscratch.org/search.html">http://www.linuxfromscratch.org/search.html</a>.
              </p>
              <p>
                For information on the different lists, how to subscribe,
                archive locations, and additional information, visit
                <a class="ulink" href="http://www.linuxfromscratch.org/mail.html">http://www.linuxfromscratch.org/mail.html</a>.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-intro-irc" name="ch-intro-irc"></a>1.4.3. IRC
              </h3>
              <p>
                Several members of the LFS community offer assistance on
                Internet Relay Chat (IRC). Before using this support, please
                make sure that your question is not already answered in the
                LFS FAQ or the mailing list archives. You can find the IRC
                network at <code class="uri">irc.freenode.net</code>. The
                support channel is named #LFS-support.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-intro-mirrors" name="ch-intro-mirrors"></a>1.4.4.
                Mirror Sites
              </h3>
              <p>
                The LFS project has a number of world-wide mirrors to make
                accessing the website and downloading the required packages
                more convenient. Please visit the LFS website at <a class="ulink" href="http://www.linuxfromscratch.org/mirrors.html">http://www.linuxfromscratch.org/mirrors.html</a>
                for a list of current mirrors.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-intro-contactinfo" name="ch-intro-contactinfo"></a>1.4.5. Contact Information
              </h3>
              <p>
                Please direct all your questions and comments to one of the
                LFS mailing lists (see above).
              </p>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-intro-askforhelp" name="ch-intro-askforhelp"></a>1.5.&nbsp;Help
                  </h2>
                </div>
              </div>
            </div>
            <p>
              If an issue or a question is encountered while working through
              this book, please check the FAQ page at <a class="ulink" href="http://www.linuxfromscratch.org/faq/#generalfaq">http://www.linuxfromscratch.org/faq/#generalfaq</a>.
              Questions are often already answered there. If your question is
              not answered on this page, try to find the source of the
              problem. The following hint will give you some guidance for
              troubleshooting: <a class="ulink" href="http://www.linuxfromscratch.org/hints/downloads/files/errors.txt">
              http://www.linuxfromscratch.org/hints/downloads/files/errors.txt</a>.
            </p>
            <p>
              If you cannot find your problem listed in the FAQ, search the
              mailing lists at <a class="ulink" href="http://www.linuxfromscratch.org/search.html">http://www.linuxfromscratch.org/search.html</a>.
            </p>
            <p>
              We also have a wonderful LFS community that is willing to offer
              assistance through the mailing lists and IRC (see the <a class="xref" href="#ch-intro-resources" title="1.4.&nbsp;Resources">Section&nbsp;1.4,
              “Resources”</a> section of this book). However, we
              get several support questions every day and many of them can be
              easily answered by going to the FAQ and by searching the
              mailing lists first. So, for us to offer the best assistance
              possible, you need to do some research on your own first. That
              allows us to focus on the more unusual support needs. If your
              searches do not produce a solution, please include all relevant
              information (mentioned below) in your request for help.
            </p>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                1.5.1. Things to Mention
              </h3>
              <p>
                Apart from a brief explanation of the problem being
                experienced, the essential things to include in any request
                for help are:
              </p>
              <div class="itemizedlist">
                <ul>
                  <li class="listitem">
                    <p>
                      The version of the book being used (in this case
                      <span class="phrase">8.0</span> )
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The host distribution and version being used to create
                      LFS
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The output from the <a class="xref" href="#version-check">Host System Requirements</a> script
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The package or section the problem was encountered in
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The exact error message or symptom being received
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      Note whether you have deviated from the book at all
                    </p>
                  </li>
                </ul>
              </div>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  Deviating from this book does <span class="emphasis"><em>not</em></span> mean that we will not help
                  you. After all, LFS is about personal preference. Being
                  upfront about any changes to the established procedure
                  helps us evaluate and determine possible causes of your
                  problem.
                </p>
              </div>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                1.5.2. Configure Script Problems
              </h3>
              <p>
                If something goes wrong while running the <span class="command"><strong>configure</strong></span> script, review
                the <code class="filename">config.log</code> file. This file
                may contain errors encountered during <span class="command"><strong>configure</strong></span> which were not
                printed to the screen. Include the <span class="emphasis"><em>relevant</em></span> lines if you need to ask
                for help.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                1.5.3. Compilation Problems
              </h3>
              <p>
                Both the screen output and the contents of various files are
                useful in determining the cause of compilation problems. The
                screen output from the <span class="command"><strong>configure</strong></span> script and the
                <span class="command"><strong>make</strong></span> run can be
                helpful. It is not necessary to include the entire output,
                but do include enough of the relevant information. Below is
                an example of the type of information to include from the
                screen output from <span class="command"><strong>make</strong></span>:
              </p>
              <pre class="screen"><code class="computeroutput">gcc -DALIASPATH=\"/mnt/lfs/usr/share/locale:.\"
-DLOCALEDIR=\"/mnt/lfs/usr/share/locale\"
-DLIBDIR=\"/mnt/lfs/usr/lib\"
-DINCLUDEDIR=\"/mnt/lfs/usr/include\" -DHAVE_CONFIG_H -I. -I.
-g -O2 -c getopt1.c
gcc -g -O2 -static -o make ar.o arscan.o commands.o dir.o
expand.o file.o function.o getopt.o implicit.o job.o main.o
misc.o read.o remake.o rule.o signame.o variable.o vpath.o
default.o remote-stub.o version.o opt1.o
-lutil job.o: In function `load_too_high':
/lfs/tmp/make-3.79.1/job.c:1565: undefined reference
to `getloadavg'
collect2: ld returned 1 exit status
make[2]: *** [make] Error 1
make[2]: Leaving directory `/lfs/tmp/make-3.79.1'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/lfs/tmp/make-3.79.1'
make: *** [all-recursive-am] Error 2</code>
</pre>
              <p>
                In this case, many people would just include the bottom
                section:
              </p>
              <pre class="screen"><code class="computeroutput">make [2]: *** [make] Error 1</code>
</pre>
              <p>
                This is not enough information to properly diagnose the
                problem because it only notes that something went wrong, not
                <span class="emphasis"><em>what</em></span> went wrong. The
                entire section, as in the example above, is what should be
                saved because it includes the command that was executed and
                the associated error message(s).
              </p>
              <p>
                An excellent article about asking for help on the Internet is
                available online at <a class="ulink" href="http://catb.org/%7Eesr/faqs/smart-questions.html">http://catb.org/~esr/faqs/smart-questions.html</a>.
                Read and follow the hints in this document to increase the
                likelihood of getting the help you need.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="part">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title">
                <a id="part2" name="part2"></a>Part&nbsp;II.&nbsp;Preparing
                for the Build
              </h1>
            </div>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-partitioning" name="chapter-partitioning"></a>Chapter&nbsp;2.&nbsp;Preparing
                  the Host System
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="space-introduction" name="space-introduction"></a>2.1.&nbsp;Introduction
                  </h2>
                </div>
              </div>
            </div>
            <p>
              In this chapter, the host tools needed for building LFS are
              checked and, if necessary, installed. Then a partition which
              will host the LFS system is prepared. We will create the
              partition itself, create a file system on it, and mount it.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="pre-hostreqs" name="pre-hostreqs"></a>2.2.&nbsp;Host System Requirements
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Your host system should have the following software with the
              minimum versions indicated. This should not be an issue for
              most modern Linux distributions. Also note that many
              distributions will place software headers into separate
              packages, often in the form of <span class="quote">“<span class="quote">&lt;package-name&gt;-devel</span>”</span> or
              <span class="quote">“<span class="quote">&lt;package-name&gt;-dev</span>”</span>. Be sure
              to install those if your distribution provides them.
            </p>
            <p>
              Earlier versions of the listed software packages may work, but
              have not been tested.
            </p>
            <div class="itemizedlist">
              <ul class="compact">
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Bash-3.2</strong></span>
                    (/bin/sh should be a symbolic or hard link to bash)
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Binutils-2.17</strong></span> (Versions
                    greater than 2.27 are not recommended as they have not
                    been tested)
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Bison-2.3</strong></span>
                    (/usr/bin/yacc should be a link to bison or small script
                    that executes bison)
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Bzip2-1.0.4</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Coreutils-6.9</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Diffutils-2.8.1</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Findutils-4.2.31</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Gawk-4.0.1</strong></span>
                    (/usr/bin/awk should be a link to gawk)
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>GCC-4.7</strong></span>
                    including the C++ compiler, <span class="command"><strong>g++</strong></span> (Versions greater
                    than 6.3.0 are not recommended as they have not been
                    tested)
                  </p>
                  <div class="admon note">
                    <h3>
                      Note
                    </h3>
                    <p>
                      On some distributions, there have been reports that
                      some libraries used by gcc can be in an inconsistent
                      state and that this interferes with building some LFS
                      packages. To check this, look in /usr/lib and possibly
                      /usr/lib64 for libgmp.la, libmpfr.la, and libmpc.la.
                      Either all three should be present or absent, but not
                      only one or two. If the problem exists on your system,
                      either rename or delete the .la files or install the
                      appropriate missing package.
                    </p>
                  </div>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Glibc-2.11</strong></span>
                    (Versions greater than 2.25 are not recommended as they
                    have not been tested)
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Grep-2.5.1a</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Gzip-1.3.12</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Linux
                    Kernel-2.6.32</strong></span>
                  </p>
                  <p>
                    The reason for the kernel version requirement is that we
                    specify that version when building <span class="application">glibc</span> in Chapter 6 at the
                    recommendation of the developers. It is also required by
                    udev.
                  </p>
                  <p>
                    If the host kernel is earlier than 2.6.32 you will need
                    to replace the kernel with a more up to date version.
                    There are two ways you can go about this. First, see if
                    your Linux vendor provides a 2.6.32 or later kernel
                    package. If so, you may wish to install it. If your
                    vendor doesn't offer an acceptable kernel package, or you
                    would prefer not to install it, you can compile a kernel
                    yourself. Instructions for compiling the kernel and
                    configuring the boot loader (assuming the host uses GRUB)
                    are located in <a class="xref" href="#chapter-bootable" title="Chapter&nbsp;8.&nbsp;Making the LFS System Bootable">Chapter
                    8</a>.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>M4-1.4.10</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Make-3.81</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Patch-2.5.4</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Perl-5.8.8</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Sed-4.1.5</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Tar-1.22</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Texinfo-4.7</strong></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span class="strong"><strong>Xz-5.0.0</strong></span>
                  </p>
                </li>
              </ul>
            </div>
            <div class="admon important">
              <h3>
                Important
              </h3>
              <p>
                Note that the symlinks mentioned above are required to build
                an LFS system using the instructions contained within this
                book. Symlinks that point to other software (such as dash,
                mawk, etc.) may work, but are not tested or supported by the
                LFS development team, and may require either deviation from
                the instructions or additional patches to some packages.
              </p>
            </div>
            <h3>
              <a id="version-check" name="version-check"></a>
            </h3>
            <p>
              To see whether your host system has all the appropriate
              versions, and the ability to compile programs, run the
              following:
            </p>
            <pre class="userinput"><kbd class="command">cat &gt; version-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
# Simple script to list version numbers of critical development tools
export LC_ALL=C
bash --version | head -n1 | cut -d" " -f2-4
MYSH=$(readlink -f /bin/sh)
echo "/bin/sh -&gt; $MYSH"
echo $MYSH | grep -q bash || echo "ERROR: /bin/sh does not point to bash"
unset MYSH

echo -n "Binutils: "; ld --version | head -n1 | cut -d" " -f3-
bison --version | head -n1

if [ -h /usr/bin/yacc ]; then
  echo "/usr/bin/yacc -&gt; `readlink -f /usr/bin/yacc`";
elif [ -x /usr/bin/yacc ]; then
  echo yacc is `/usr/bin/yacc --version | head -n1`
else
  echo "yacc not found" 
fi

bzip2 --version 2&gt;&amp;1 &lt; /dev/null | head -n1 | cut -d" " -f1,6-
echo -n "Coreutils: "; chown --version | head -n1 | cut -d")" -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1

if [ -h /usr/bin/awk ]; then
  echo "/usr/bin/awk -&gt; `readlink -f /usr/bin/awk`";
elif [ -x /usr/bin/awk ]; then
  echo awk is `/usr/bin/awk --version | head -n1`
else 
  echo "awk not found" 
fi

gcc --version | head -n1
g++ --version | head -n1
ldd --version | head -n1 | cut -d" " -f2-  # glibc version
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
sed --version | head -n1
tar --version | head -n1
makeinfo --version | head -n1
xz --version | head -n1

echo 'int main(){}' &gt; dummy.c &amp;&amp; g++ -o dummy dummy.c
if [ -x dummy ]
  then echo "g++ compilation OK";
  else echo "g++ compilation failed"; fi
rm -f dummy.c dummy</code>
EOF

bash version-check.sh</kbd>
</pre>
            <p>
              Also check for some library consistency:
            </p>
            <pre class="userinput"><kbd class="command">cat &gt; library-check.sh &lt;&lt; "EOF"
<code class="literal">#!/bin/bash
for lib in lib{gmp,mpfr,mpc}.la; do
  echo $lib: $(if find /usr/lib* -name $lib|
               grep -q $lib;then :;else echo not;fi) found
done
unset lib</code>
EOF

bash library-check.sh</kbd>
</pre>
            <p>
              The files identified by this script should be all present or
              all absent, but not only one or two present.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="stages" name="stages"></a>2.3.&nbsp;Building LFS
                    in Stages
                  </h2>
                </div>
              </div>
            </div>
            <p>
              LFS is designed to be built in one session. That is, the
              instructions assume that the system will not be shut down
              during the process. That does not mean that the system has to
              be done in one sitting. The issue is that certain procedures
              have to be re-accomplished after a reboot if resuming LFS at
              different points.
            </p>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                2.3.1. Chapters 1-4
              </h3>
              <p>
                These chapters are accomplished on the host system. When
                restarting, be careful of the following:
              </p>
              <div class="itemizedlist">
                <ul>
                  <li class="listitem">
                    <p>
                      Procedures done as the root user after Section 2.4 need
                      to have the LFS environment variable set <span class="emphasis"><em>FOR THE ROOT USER</em></span>.
                    </p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                2.3.2. Chapter 5
              </h3>
              <div class="itemizedlist">
                <ul>
                  <li class="listitem">
                    <p>
                      The /mnt/lfs partition must be mounted.
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      <span class="emphasis"><em>ALL</em></span> instructions
                      in Chapter 5 must be done by user <span class="emphasis"><em>lfs</em></span>. A <span class="command"><strong>su - lfs</strong></span> needs to be
                      done before any task in Chapter 5.
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The procedures in <a class="xref" href="#ch-tools-generalinstructions" title="5.3.&nbsp;General Compilation Instructions">Section&nbsp;5.3,
                      “General Compilation Instructions”</a> are
                      critical. If there is any doubt about installing a
                      package, ensure any previously expanded tarballs are
                      removed, re-extract the package files, and complete all
                      instructions in that section.
                    </p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                2.3.3. Chapters 6-8
              </h3>
              <div class="itemizedlist">
                <ul>
                  <li class="listitem">
                    <p>
                      The /mnt/lfs partition must be mounted.
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      When entering chroot, the LFS environment variable must
                      be set for root. The LFS variable is not used
                      otherwise.
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      The virtual file systems must be mounted. This can be
                      done before or after entering chroot by changing to a
                      host virtual terminal and, as root, running the
                      commands in <a class="xref" href="#ch-system-bindmount" title="6.2.2.&nbsp;Mounting and Populating /dev">Section&nbsp;6.2.2,
                      “Mounting and Populating /dev”</a> and
                      <a class="xref" href="#ch-system-kernfsmount" title="6.2.3.&nbsp;Mounting Virtual Kernel File Systems">Section&nbsp;6.2.3,
                      “Mounting Virtual Kernel File Systems”</a>.
                    </p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="space-creatingpartition" name="space-creatingpartition"></a>2.4.&nbsp;Creating a New
                    Partition
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Like most other operating systems, LFS is usually installed on
              a dedicated partition. The recommended approach to building an
              LFS system is to use an available empty partition or, if you
              have enough unpartitioned space, to create one.
            </p>
            <p>
              A minimal system requires a partition of around 6 gigabytes
              (GB). This is enough to store all the source tarballs and
              compile the packages. However, if the LFS system is intended to
              be the primary Linux system, additional software will probably
              be installed which will require additional space. A 20 GB
              partition is a reasonable size to provide for growth. The LFS
              system itself will not take up this much room. A large portion
              of this requirement is to provide sufficient free temporary
              storage as well as for adding additional capabilities after LFS
              is complete. Additionally, compiling packages can require a lot
              of disk space which will be reclaimed after the package is
              installed.
            </p>
            <p>
              Because there is not always enough Random Access Memory (RAM)
              available for compilation processes, it is a good idea to use a
              small disk partition as <code class="systemitem">swap</code>
              space. This is used by the kernel to store seldom-used data and
              leave more memory available for active processes. The
              <code class="systemitem">swap</code> partition for an LFS
              system can be the same as the one used by the host system, in
              which case it is not necessary to create another one.
            </p>
            <p>
              Start a disk partitioning program such as <span class="command"><strong>cfdisk</strong></span> or <span class="command"><strong>fdisk</strong></span> with a command line
              option naming the hard disk on which the new partition will be
              created—for example <code class="filename">/dev/sda</code> for the primary Integrated Drive
              Electronics (IDE) disk. Create a Linux native partition and a
              <code class="systemitem">swap</code> partition, if needed.
              Please refer to <code class="filename">cfdisk(8)</code> or
              <code class="filename">fdisk(8)</code> if you do not yet know
              how to use the programs.
            </p>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                For experienced users, other partitioning schemes are
                possible. The new LFS system can be on a software <a class="ulink" href="http://www.linuxfromscratch.org/blfs/view/8.0/postlfs/raid.html">
                RAID</a> array or an <a class="ulink" href="http://www.linuxfromscratch.org/blfs/view/8.0/postlfs/aboutlvm.html">
                LVM</a> logical volume. However, some of these options
                require an <a class="ulink" href="http://www.linuxfromscratch.org/blfs/view/8.0/postlfs/initramfs.html">
                initramfs</a>, which is an advanced topic. These partitioning
                methodologies are not recommended for first time LFS users.
              </p>
            </div>
            <p>
              Remember the designation of the new partition (e.g.,
              <code class="filename">sda5</code>). This book will refer to
              this as the LFS partition. Also remember the designation of the
              <code class="systemitem">swap</code> partition. These names
              will be needed later for the <code class="filename">/etc/fstab</code> file.
            </p>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                2.4.1. Other Partition Issues
              </h3>
              <p>
                Requests for advice on system partitioning are often posted
                on the LFS mailing lists. This is a highly subjective topic.
                The default for most distributions is to use the entire drive
                with the exception of one small swap partition. This is not
                optimal for LFS for several reasons. It reduces flexibility,
                makes sharing of data across multiple distributions or LFS
                builds more difficult, makes backups more time consuming, and
                can waste disk space through inefficient allocation of file
                system structures.
              </p>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458784433024" name="idp47458784433024"></a>2.4.1.1.&nbsp;The Root
                        Partition
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  A root LFS partition (not to be confused with the
                  <code class="filename">/root</code> directory) of ten
                  gigabytes is a good compromise for most systems. It
                  provides enough space to build LFS and most of BLFS, but is
                  small enough so that multiple partitions can be easily
                  created for experimentation.
                </p>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458784435280" name="idp47458784435280"></a>2.4.1.2.&nbsp;The Swap
                        Partition
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  Most distributions automatically create a swap partition.
                  Generally the recommended size of the swap partition is
                  about twice the amount of physical RAM, however this is
                  rarely needed. If disk space is limited, hold the swap
                  partition to two gigabytes and monitor the amount of disk
                  swapping.
                </p>
                <p>
                  Swapping is never good. Generally you can tell if a system
                  is swapping by just listening to disk activity and
                  observing how the system reacts to commands. The first
                  reaction to swapping should be to check for an unreasonable
                  command such as trying to edit a five gigabyte file. If
                  swapping becomes a normal occurrence, the best solution is
                  to purchase more RAM for your system.
                </p>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458784437552" name="idp47458784437552"></a>2.4.1.3.&nbsp;The Grub Bios
                        Partition
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  If the <span class="emphasis"><em>boot disk</em></span> has
                  been partitioned with a GUID Partition Table (GPT), then a
                  small, typically 1 MB, partition must be created if it does
                  not already exist. This partition is not formatted, but
                  must be available for GRUB to use during installation of
                  the boot loader. This partition will normally be labeled
                  'BIOS Boot' if using <span class="command"><strong>fdisk</strong></span> or have a code of
                  <span class="emphasis"><em>EF02</em></span> if using
                  <span class="command"><strong>gdisk</strong></span>.
                </p>
                <div class="admon note">
                  <h3>
                    Note
                  </h3>
                  <p>
                    The Grub Bios partition must be on the drive that the
                    BIOS uses to boot the system. This is not necessarily the
                    same drive where the LFS root partition is located. Disks
                    on a system may use different partition table types. The
                    requirment for this partition depends only on the
                    partition table type of the boot disk.
                  </p>
                </div>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458784441936" name="idp47458784441936"></a>2.4.1.4.&nbsp;Convenience
                        Partitions
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  There are several other partitions that are not required,
                  but should be considered when designing a disk layout. The
                  following list is not comprehensive, but is meant as a
                  guide.
                </p>
                <div class="itemizedlist">
                  <ul>
                    <li class="listitem">
                      <p>
                        /boot – Highly recommended. Use this partition
                        to store kernels and other booting information. To
                        minimize potential boot problems with larger disks,
                        make this the first physical partition on your first
                        disk drive. A partition size of 100 megabytes is
                        quite adequate.
                      </p>
                    </li>
                    <li class="listitem">
                      <p>
                        /home – Highly recommended. Share your home
                        directory and user customization across multiple
                        distributions or LFS builds. The size is generally
                        fairly large and depends on available disk space.
                      </p>
                    </li>
                    <li class="listitem">
                      <p>
                        /usr – A separate /usr partition is generally
                        used if providing a server for a thin client or
                        diskless workstation. It is normally not needed for
                        LFS. A size of five gigabytes will handle most
                        installations.
                      </p>
                    </li>
                    <li class="listitem">
                      <p>
                        /opt – This directory is most useful for BLFS
                        where multiple installations of large packages like
                        Gnome or KDE can be installed without embedding the
                        files in the /usr hierarchy. If used, 5 to 10
                        gigabytes is generally adequate.
                      </p>
                    </li>
                    <li class="listitem">
                      <p>
                        /tmp – A separate /tmp directory is rare, but
                        useful if configuring a thin client. This partition,
                        if used, will usually not need to exceed a couple of
                        gigabytes.
                      </p>
                    </li>
                    <li class="listitem">
                      <p>
                        /usr/src – This partition is very useful for
                        providing a location to store BLFS source files and
                        share them across LFS builds. It can also be used as
                        a location for building BLFS packages. A reasonably
                        large partition of 30-50 gigabytes allows plenty of
                        room.
                      </p>
                    </li>
                  </ul>
                </div>
                <p>
                  Any separate partition that you want automatically mounted
                  upon boot needs to be specified in the <code class="filename">/etc/fstab</code>. Details about how to specify
                  partitions will be discussed in <a class="xref" href="#ch-bootable-fstab" title="8.2.&nbsp;Creating the /etc/fstab File">Section&nbsp;8.2,
                  “Creating the /etc/fstab File”</a>.
                </p>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="space-creatingfilesystem" name="space-creatingfilesystem"></a>2.5.&nbsp;Creating a File
                    System on the Partition
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Now that a blank partition has been set up, the file system can
              be created. LFS can use any file system recognized by the Linux
              kernel, but the most common types are ext3 and ext4. The choice
              of file system can be complex and depends on the
              characteristics of the files and the size of the partition. For
              example:
            </p>
            <div class="variablelist">
              <dl class="variablelist">
                <dt>
                  <span class="term">ext2</span>
                </dt>
                <dd>
                  <p>
                    is suitable for small partitions that are updated
                    infrequently such as /boot.
                  </p>
                </dd>
                <dt>
                  <span class="term">ext3</span>
                </dt>
                <dd>
                  <p>
                    is an upgrade to ext2 that includes a journal to help
                    recover the partition's status in the case of an unclean
                    shutdown. It is commonly used as a general purpose file
                    system.
                  </p>
                </dd>
                <dt>
                  <span class="term">ext4</span>
                </dt>
                <dd>
                  <p>
                    is the latest version of the ext file system family of
                    partition types. It provides several new capabilities
                    including nano-second timestamps, creation and use of
                    very large files (16 TB), and speed improvements.
                  </p>
                </dd>
              </dl>
            </div>
            <p>
              Other file systems, including FAT32, NTFS, ReiserFS, JFS, and
              XFS are useful for specialized purposes. More information about
              these file systems can be found at <a class="ulink" href="http://en.wikipedia.org/wiki/Comparison_of_file_systems">http://en.wikipedia.org/wiki/Comparison_of_file_systems</a>.
            </p>
            <p>
              LFS assumes that the root file system (/) is of type ext4. To
              create an <code class="systemitem">ext4</code> file system on
              the LFS partition, run the following:
            </p>
            <pre class="userinput"><kbd class="command">mkfs -v -t ext4 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em></kbd>
</pre>
            <p>
              If you are using an existing <code class="systemitem">swap</code> partition, there is no need to format
              it. If a new <code class="systemitem">swap</code> partition was
              created, it will need to be initialized with this command:
            </p>
            <pre class="userinput"><kbd class="command">mkswap /dev/<em class="replaceable"><code>&lt;yyy&gt;</code></em></kbd>
</pre>
            <p>
              Replace <em class="replaceable"><code>&lt;yyy&gt;</code></em>
              with the name of the <code class="systemitem">swap</code>
              partition.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-partitioning-aboutlfs" name="ch-partitioning-aboutlfs"></a>2.6.&nbsp;Setting The $LFS
                    Variable
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Throughout this book, the environment variable <code class="envar">LFS</code> will be used several times. You should
              ensure that this variable is always defined throughout the LFS
              build process. It should be set to the name of the directory
              where you will be building your LFS system - we will use
              <code class="filename">/mnt/lfs</code> as an example, but the
              directory choice is up to you. If you are building LFS on a
              separate partition, this directory will be the mount point for
              the partition. Choose a directory location and set the variable
              with the following command:
            </p>
            <pre class="userinput"><kbd class="command">export LFS=<em class="replaceable"><code>/mnt/lfs</code></em></kbd>
</pre>
            <p>
              Having this variable set is beneficial in that commands such as
              <span class="command"><strong>mkdir -v
              $LFS/tools</strong></span> can be typed literally. The shell
              will automatically replace <span class="quote">“<span class="quote">$LFS</span>”</span>
              with <span class="quote">“<span class="quote">/mnt/lfs</span>”</span> (or whatever the variable
              was set to) when it processes the command line.
            </p>
            <div class="admon caution">
              <h3>
                Caution
              </h3>
              <p>
                Do not forget to check that <code class="envar">LFS</code> is
                set whenever you leave and reenter the current working
                environment (such as when doing a <span class="command"><strong>su</strong></span> to <code class="systemitem">root</code> or another user). Check that the
                <code class="envar">LFS</code> variable is set up properly
                with:
              </p>
              <pre class="userinput"><kbd class="command">echo $LFS</kbd>
</pre>
              <p>
                Make sure the output shows the path to your LFS system's
                build location, which is <code class="filename">/mnt/lfs</code> if the provided example was
                followed. If the output is incorrect, use the command given
                earlier on this page to set <code class="envar">$LFS</code>
                to the correct directory name.
              </p>
            </div>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                One way to ensure that the <code class="envar">LFS</code>
                variable is always set is to edit the <code class="filename">.bash_profile</code> file in both your personal
                home directory and in <code class="filename">/root/.bash_profile</code> and enter the export
                command above. In addition, the shell specified in the
                <code class="filename">/etc/passwd</code> file for all users
                that need the <code class="envar">LFS</code> variable needs
                to be bash to ensure that the <code class="filename">/root/.bash_profile</code> file is incorporated as
                a part of the login process.
              </p>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="space-mounting" name="space-mounting"></a>2.7.&nbsp;Mounting the New Partition
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Now that a file system has been created, the partition needs to
              be made accessible. In order to do this, the partition needs to
              be mounted at a chosen mount point. For the purposes of this
              book, it is assumed that the file system is mounted under the
              directory specified by the <code class="envar">LFS</code>
              environment variable as described in the previous section.
            </p>
            <p>
              Create the mount point and mount the LFS file system by
              running:
            </p>
            <pre class="userinput"><kbd class="command">mkdir -pv $LFS
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em> $LFS</kbd>
</pre>
            <p>
              Replace <em class="replaceable"><code>&lt;xxx&gt;</code></em>
              with the designation of the LFS partition.
            </p>
            <p>
              If using multiple partitions for LFS (e.g., one for
              <code class="filename">/</code> and another for <code class="filename">/usr</code>), mount them using:
            </p>
            <pre class="userinput"><kbd class="command">mkdir -pv $LFS
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;xxx&gt;</code></em> $LFS
mkdir -v $LFS/usr
mount -v -t ext4 /dev/<em class="replaceable"><code>&lt;yyy&gt;</code></em> $LFS/usr</kbd>
</pre>
            <p>
              Replace <em class="replaceable"><code>&lt;xxx&gt;</code></em>
              and <em class="replaceable"><code>&lt;yyy&gt;</code></em> with
              the appropriate partition names.
            </p>
            <p>
              Ensure that this new partition is not mounted with permissions
              that are too restrictive (such as the <code class="option">nosuid</code> or <code class="option">nodev</code>
              options). Run the <span class="command"><strong>mount</strong></span> command without any
              parameters to see what options are set for the mounted LFS
              partition. If <code class="option">nosuid</code> and/or
              <code class="option">nodev</code> are set, the partition will
              need to be remounted.
            </p>
            <p>
              If you are using a <code class="systemitem">swap</code>
              partition, ensure that it is enabled using the <span class="command"><strong>swapon</strong></span> command:
            </p>
            <pre class="userinput"><kbd class="command">/sbin/swapon -v /dev/<em class="replaceable"><code>&lt;zzz&gt;</code></em></kbd>
</pre>
            <p>
              Replace <em class="replaceable"><code>&lt;zzz&gt;</code></em>
              with the name of the <code class="systemitem">swap</code>
              partition.
            </p>
            <p>
              Now that there is an established place to work, it is time to
              download the packages.
            </p>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-getting-materials" name="chapter-getting-materials"></a>Chapter&nbsp;3.&nbsp;Packages
                  and Patches
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="materials-introduction" name="materials-introduction"></a>3.1.&nbsp;Introduction
                  </h2>
                </div>
              </div>
            </div>
            <p>
              This chapter includes a list of packages that need to be
              downloaded in order to build a basic Linux system. The listed
              version numbers correspond to versions of the software that are
              known to work, and this book is based on their use. We highly
              recommend against using newer versions because the build
              commands for one version may not work with a newer version. The
              newest package versions may also have problems that require
              work-arounds. These work-arounds will be developed and
              stabilized in the development version of the book.
            </p>
            <p>
              Download locations may not always be accessible. If a download
              location has changed since this book was published, Google
              (<a class="ulink" href="http://www.google.com/">http://www.google.com/</a>) provides a
              useful search engine for most packages. If this search is
              unsuccessful, try one of the alternative means of downloading
              discussed at <a class="ulink" href="http://www.linuxfromscratch.org/lfs/packages.html#packages">http://www.linuxfromscratch.org/lfs/packages.html#packages</a>.
            </p>
            <p>
              Downloaded packages and patches will need to be stored
              somewhere that is conveniently available throughout the entire
              build. A working directory is also required to unpack the
              sources and build them. <code class="filename">$LFS/sources</code> can be used both as the place to
              store the tarballs and patches and as a working directory. By
              using this directory, the required elements will be located on
              the LFS partition and will be available during all stages of
              the building process.
            </p>
            <p>
              To create this directory, execute the following command, as
              user <code class="systemitem">root</code>, before starting the
              download session:
            </p>
            <pre class="userinput"><kbd class="command">mkdir -v $LFS/sources</kbd>
</pre>
            <p>
              Make this directory writable and sticky. <span class="quote">“<span class="quote">Sticky</span>”</span>
              means that even if multiple users have write permission on a
              directory, only the owner of a file can delete the file within
              a sticky directory. The following command will enable the write
              and sticky modes:
            </p>
            <pre class="userinput"><kbd class="command">chmod -v a+wt $LFS/sources</kbd>
</pre>
            <p>
              An easy way to download all of the packages and patches is by
              using <a class="ulink" href="http://www.linuxfromscratch.org/lfs/downloads/8.0/wget-list">wget-list</a> as an
              input to <span class="command"><strong>wget</strong></span>.
              For example:
            </p>
            <pre class="userinput"><kbd class="command">wget --input-file=wget-list --continue --directory-prefix=$LFS/sources</kbd>
</pre>
            <p>
              Additionally, starting with LFS-7.0, there is a separate file,
              <a class="ulink" href="http://www.linuxfromscratch.org/lfs/downloads/8.0/md5sums">md5sums</a>, which can be
              used to verify that all the correct packages are available
              before proceeding. Place that file in <code class="filename">$LFS/sources</code> and run:
            </p>
            <pre class="userinput"><kbd class="command">pushd $LFS/sources
md5sum -c md5sums
popd</kbd>
</pre>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="materials-packages" name="materials-packages"></a>3.2.&nbsp;All Packages
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Download or otherwise obtain the following packages:
            </p>
            <div class="materials">
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">Acl (2.2.52) - <span class="token">380
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://download.savannah.gnu.org/releases/acl/acl-2.2.52.src.tar.gz">
                      http://download.savannah.gnu.org/releases/acl/acl-2.2.52.src.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">a61415312426e9c2212bd7dc7929abda</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Attr (2.4.47) - <span class="token">336 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://savannah.nongnu.org/projects/attr">http://savannah.nongnu.org/projects/attr</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://download.savannah.gnu.org/releases/attr/attr-2.4.47.src.tar.gz">
                      http://download.savannah.gnu.org/releases/attr/attr-2.4.47.src.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">84f58dec00b60f2dc8fd1c9709291cc7</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Autoconf (2.69) - <span class="token">1,186 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/autoconf/">http://www.gnu.org/software/autoconf/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.xz">http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">50f97f4159805e374639a73e2636f22e</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Automake (1.15) - <span class="token">1,462 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/automake/">http://www.gnu.org/software/automake/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/automake/automake-1.15.tar.xz">http://ftp.gnu.org/gnu/automake/automake-1.15.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">9a1ddb0e053474d9d1105cfe39b0c48d</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bash (4.4) - <span class="token">9,158
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/bash/">http://www.gnu.org/software/bash/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/bash/bash-4.4.tar.gz">http://ftp.gnu.org/gnu/bash/bash-4.4.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">148888a7c95ac23705559b6f477dfe25</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bc (1.06.95) - <span class="token">288
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/bc/">http://www.gnu.org/software/bc/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://alpha.gnu.org/gnu/bc/bc-1.06.95.tar.bz2">http://alpha.gnu.org/gnu/bc/bc-1.06.95.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">5126a721b73f97d715bb72c13c889035</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Binutils (2.27) - <span class="token">25,488 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/binutils/">http://www.gnu.org/software/binutils/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/binutils/binutils-2.27.tar.bz2">
                      http://ftp.gnu.org/gnu/binutils/binutils-2.27.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">2869c9bf3e60ee97c74ac2a6bf4e9d68</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bison (3.0.4) - <span class="token">1,928 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/bison/">http://www.gnu.org/software/bison/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/bison/bison-3.0.4.tar.xz">http://ftp.gnu.org/gnu/bison/bison-3.0.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c342201de104cc9ce0a21e0ad10d4021</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bzip2 (1.0.6) - <span class="token">764 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.bzip.org/">http://www.bzip.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz">http://www.bzip.org/1.0.6/bzip2-1.0.6.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">00b516f4704d4a7cb50a1d97e6e8e15b</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Check (0.11.0) - <span class="token">736 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="https://libcheck.github.io/check">https://libcheck.github.io/check</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://github.com/libcheck/check/releases/download/0.11.0/check-0.11.0.tar.gz">
                      https://github.com/libcheck/check/releases/download/0.11.0/check-0.11.0.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">9b90522b31f5628c2e0f55dda348e558</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Coreutils (8.26) - <span class="token">5,676 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/coreutils/">http://www.gnu.org/software/coreutils/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/coreutils/coreutils-8.26.tar.xz">
                      http://ftp.gnu.org/gnu/coreutils/coreutils-8.26.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">d5aa2072f662d4118b9f4c63b94601a6</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">DejaGNU (1.6) - <span class="token">512 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/dejagnu/">http://www.gnu.org/software/dejagnu/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/dejagnu/dejagnu-1.6.tar.gz">http://ftp.gnu.org/gnu/dejagnu/dejagnu-1.6.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">1fdc2eb0d592c4f89d82d24dfdf02f0b</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Diffutils (3.5) - <span class="token">1,330 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/diffutils/">http://www.gnu.org/software/diffutils/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/diffutils/diffutils-3.5.tar.xz">
                      http://ftp.gnu.org/gnu/diffutils/diffutils-3.5.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">569354697ff1cfc9a9de3781361015fa</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Eudev (3.2.1) - <span class="token">1,778 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://dev.gentoo.org/%7Eblueness/eudev/eudev-3.2.1.tar.gz">
                      http://dev.gentoo.org/~blueness/eudev/eudev-3.2.1.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">49f71f6c271ffa95b3c20d757d45c2e5</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">E2fsprogs (1.43.4) - <span class="token">7,376 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://e2fsprogs.sourceforge.net/">http://e2fsprogs.sourceforge.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://downloads.sourceforge.net/project/e2fsprogs/e2fsprogs/v1.43.4/e2fsprogs-1.43.4.tar.gz">
                      http://downloads.sourceforge.net/project/e2fsprogs/e2fsprogs/v1.43.4/e2fsprogs-1.43.4.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">0bd1c74f357f6e9ae2ab6fa6229b9aea</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Expat (2.2.0) - <span class="token">405 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://expat.sourceforge.net/">http://expat.sourceforge.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://prdownloads.sourceforge.net/expat/expat-2.2.0.tar.bz2">
                      http://prdownloads.sourceforge.net/expat/expat-2.2.0.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">2f47841c829facb346eb6e3fab5212e2</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Expect (5.45) - <span class="token">614 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://expect.sourceforge.net/">http://expect.sourceforge.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://prdownloads.sourceforge.net/expect/expect5.45.tar.gz">
                      http://prdownloads.sourceforge.net/expect/expect5.45.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">44e1a4f4c877e9ddc5a542dfa7ecc92b</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">File (5.30) - <span class="token">771
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.darwinsys.com/file/">http://www.darwinsys.com/file/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="ftp://ftp.astron.com/pub/file/file-5.30.tar.gz">ftp://ftp.astron.com/pub/file/file-5.30.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">f35eaf05489ae566eafc4d26bb1dcd90</code>
                    </p>
                    <div class="admon note">
                      <h3>
                        Note
                      </h3>
                      <p>
                        File (5.30) may no longer be available at the listed
                        location. The site administrators of the master
                        download location occasionally remove older versions
                        when new ones are released. An alternative download
                        location that may have the correct version available
                        can also be found at: <a class="ulink" href="http://www.linuxfromscratch.org/lfs/download.html#ftp">
                        http://www.linuxfromscratch.org/lfs/download.html#ftp</a>.
                      </p>
                    </div>
                  </dd>
                  <dt>
                    <span class="term">Findutils (4.6.0) - <span class="token">3,692 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/findutils/">http://www.gnu.org/software/findutils/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/findutils/findutils-4.6.0.tar.gz">
                      http://ftp.gnu.org/gnu/findutils/findutils-4.6.0.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">9936aa8009438ce185bea2694a997fc1</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Flex (2.6.3) - <span class="token">1,373 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://flex.sourceforge.net/">http://flex.sourceforge.net</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://github.com/westes/flex/releases/download/v2.6.3/flex-2.6.3.tar.gz">
                      https://github.com/westes/flex/releases/download/v2.6.3/flex-2.6.3.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">a5f65570cd9107ec8a8ec88f17b31bb1</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Gawk (4.1.4) - <span class="token">2,313 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gawk/">http://www.gnu.org/software/gawk/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gawk/gawk-4.1.4.tar.xz">http://ftp.gnu.org/gnu/gawk/gawk-4.1.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">4e7dbc81163e60fd4f0b52496e7542c9</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">GCC (6.3.0) - <span class="token">97,562 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://gcc.gnu.org/">http://gcc.gnu.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gcc/gcc-6.3.0/gcc-6.3.0.tar.bz2">
                      http://ftp.gnu.org/gnu/gcc/gcc-6.3.0/gcc-6.3.0.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">677a7623c7ef6ab99881bc4e048debb6</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">GDBM (1.12) - <span class="token">822
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gdbm/">http://www.gnu.org/software/gdbm/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gdbm/gdbm-1.12.tar.gz">http://ftp.gnu.org/gnu/gdbm/gdbm-1.12.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">9ce96ff4c99e74295ea19040931c8fb9</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Gettext (0.19.8.1) - <span class="token">7,041 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gettext/">http://www.gnu.org/software/gettext/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gettext/gettext-0.19.8.1.tar.xz">
                      http://ftp.gnu.org/gnu/gettext/gettext-0.19.8.1.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">df3f5690eaa30fd228537b00cb7b7590</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Glibc (2.25) - <span class="token">13,549 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/libc/">http://www.gnu.org/software/libc/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/glibc/glibc-2.25.tar.xz">http://ftp.gnu.org/gnu/glibc/glibc-2.25.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">1496c3bf41adf9db0ebd0af01f202eed</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">GMP (6.1.2) - <span class="token">1,901 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gmp/">http://www.gnu.org/software/gmp/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gmp/gmp-6.1.2.tar.xz">http://ftp.gnu.org/gnu/gmp/gmp-6.1.2.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">f58fa8001d60c4c77595fbbb62b63c1d</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Gperf (3.0.4) - <span class="token">961 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gperf/">http://www.gnu.org/software/gperf/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gperf/gperf-3.0.4.tar.gz">http://ftp.gnu.org/gnu/gperf/gperf-3.0.4.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c1f1db32fb6598d6a93e6e88796a8632</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Grep (3.0) - <span class="token">1,342
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/grep/">http://www.gnu.org/software/grep/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/grep/grep-3.0.tar.xz">http://ftp.gnu.org/gnu/grep/grep-3.0.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">fa07c1616adeb9c3262be5177d10ad4a</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Groff (1.22.3) - <span class="token">4,091 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/groff/">http://www.gnu.org/software/groff/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/groff/groff-1.22.3.tar.gz">http://ftp.gnu.org/gnu/groff/groff-1.22.3.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">cc825fa64bc7306a885f2fb2268d3ec5</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">GRUB (2.02~beta3) - <span class="token">5,890 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/grub/">http://www.gnu.org/software/grub/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://alpha.gnu.org/gnu/grub/grub-2.02%7Ebeta3.tar.xz">http://alpha.gnu.org/gnu/grub/grub-2.02~beta3.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">ab399fc6f74a97d66ff77f04b743149c</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Gzip (1.8) - <span class="token">712
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/gzip/">http://www.gnu.org/software/gzip/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/gzip/gzip-1.8.tar.xz">http://ftp.gnu.org/gnu/gzip/gzip-1.8.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">f7caabb65cddc1a4165b398009bd05b9</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Iana-Etc (2.30) - <span class="token">201 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://freecode.com/projects/iana-etc">http://freecode.com/projects/iana-etc</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://anduin.linuxfromscratch.org/LFS/iana-etc-2.30.tar.bz2">
                      http://anduin.linuxfromscratch.org/LFS/iana-etc-2.30.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">3ba3afb1d1b261383d247f46cb135ee8</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Inetutils (1.9.4) - <span class="token">1,333 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/inetutils/">http://www.gnu.org/software/inetutils/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/inetutils/inetutils-1.9.4.tar.xz">
                      http://ftp.gnu.org/gnu/inetutils/inetutils-1.9.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">87fef1fa3f603aef11c41dcc097af75e</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Intltool (0.51.0) - <span class="token">159 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://freedesktop.org/wiki/Software/intltool">http://freedesktop.org/wiki/Software/intltool</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://launchpad.net/intltool/trunk/0.51.0/+download/intltool-0.51.0.tar.gz">
                      http://launchpad.net/intltool/trunk/0.51.0/+download/intltool-0.51.0.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">12e517cac2b57a0121cda351570f1e63</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">IPRoute2 (4.9.0) - <span class="token">599 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="https://www.kernel.org/pub/linux/utils/net/iproute2/">https://www.kernel.org/pub/linux/utils/net/iproute2/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/utils/net/iproute2/iproute2-4.9.0.tar.xz">
                      https://www.kernel.org/pub/linux/utils/net/iproute2/iproute2-4.9.0.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">44a8371a4b2c40e48e4c9f98cbd41391</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Kbd (2.0.4) - <span class="token">1,008 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://ftp.altlinux.org/pub/people/legion/kbd">http://ftp.altlinux.org/pub/people/legion/kbd</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/utils/kbd/kbd-2.0.4.tar.xz">
                      https://www.kernel.org/pub/linux/utils/kbd/kbd-2.0.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c1635a5a83b63aca7f97a3eab39ebaa6</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Kmod (23) - <span class="token">440
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/utils/kernel/kmod/kmod-23.tar.xz">
                      https://www.kernel.org/pub/linux/utils/kernel/kmod/kmod-23.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">3cf469f40ec2ed51f56ba45ea03793e7</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Less (481) - <span class="token">310
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.greenwoodsoftware.com/less/">http://www.greenwoodsoftware.com/less/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.greenwoodsoftware.com/less/less-481.tar.gz">
                      http://www.greenwoodsoftware.com/less/less-481.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">50ef46065c65257141a7340123527767</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">LFS-Bootscripts (20150222) -
                    <span class="token">31 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/lfs/downloads/8.0/lfs-bootscripts-20150222.tar.bz2">
                      http://www.linuxfromscratch.org/lfs/downloads/8.0/lfs-bootscripts-20150222.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">7ee67b16b345b43cd34ed481792169ed</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Libcap (2.25) - <span class="token">64
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="https://sites.google.com/site/fullycapable/">https://sites.google.com/site/fullycapable/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/libs/security/linux-privs/libcap2/libcap-2.25.tar.xz">
                      https://www.kernel.org/pub/linux/libs/security/linux-privs/libcap2/libcap-2.25.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">6666b839e5d46c2ad33fc8aa2ceb5f77</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Libpipeline (1.4.1) - <span class="token">787 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://libpipeline.nongnu.org/">http://libpipeline.nongnu.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://download.savannah.gnu.org/releases/libpipeline/libpipeline-1.4.1.tar.gz">
                      http://download.savannah.gnu.org/releases/libpipeline/libpipeline-1.4.1.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">e54590ec68d6c1239f67b5b44e92022c</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Libtool (2.4.6) - <span class="token">951 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/libtool/">http://www.gnu.org/software/libtool/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/libtool/libtool-2.4.6.tar.xz">http://ftp.gnu.org/gnu/libtool/libtool-2.4.6.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">1bfb9b923f2c1339b4d2ce1807064aa5</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Linux (4.9.9) - <span class="token">91,025 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.kernel.org/">http://www.kernel.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/kernel/v4.x/linux-4.9.9.tar.xz">
                      https://www.kernel.org/pub/linux/kernel/v4.x/linux-4.9.9.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">de43a1a9e3a1ad97467c9a413bcdf896</code>
                    </p>
                    <div class="admon note">
                      <h3>
                        Note
                      </h3>
                      <p>
                        The Linux kernel is updated relatively often, many
                        times due to discoveries of security vulnerabilities.
                        The latest available 4.9.x kernel version should be
                        used, unless the errata page says otherwise.
                      </p>
                      <p>
                        For users with limited speed or expensive bandwidth
                        who wish to update the Linux kernel, a baseline
                        version of the package and patches can be downloaded
                        separately. This may save some time or cost for a
                        subsequent patch level upgrade within a minor
                        release.
                      </p>
                    </div>
                  </dd>
                  <dt>
                    <span class="term">M4 (1.4.18) - <span class="token">1,180 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/m4/">http://www.gnu.org/software/m4/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/m4/m4-1.4.18.tar.xz">http://ftp.gnu.org/gnu/m4/m4-1.4.18.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">730bb15d96fffe47e148d1e09235af82</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Make (4.2.1) - <span class="token">1,375 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/make/">http://www.gnu.org/software/make/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/make/make-4.2.1.tar.bz2">http://ftp.gnu.org/gnu/make/make-4.2.1.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">15b012617e7c44c0ed482721629577ac</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Man-DB (2.7.6.1) - <span class="token">1,506 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.nongnu.org/man-db/">http://www.nongnu.org/man-db/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://download.savannah.gnu.org/releases/man-db/man-db-2.7.6.1.tar.xz">
                      http://download.savannah.gnu.org/releases/man-db/man-db-2.7.6.1.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">2948d49d0ed7265f60f83aa4a9ac9268</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Man-pages (4.09) - <span class="token">1,486 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.kernel.org/doc/man-pages/">http://www.kernel.org/doc/man-pages/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/docs/man-pages/man-pages-4.09.tar.xz">
                      https://www.kernel.org/pub/linux/docs/man-pages/man-pages-4.09.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">91c721409bbf823d8f62bee3a1fe8ae3</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">MPC (1.0.3) - <span class="token">655
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.multiprecision.org/">http://www.multiprecision.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.multiprecision.org/mpc/download/mpc-1.0.3.tar.gz">
                      http://www.multiprecision.org/mpc/download/mpc-1.0.3.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">d6a1d5f8ddea3abd2cc3e98f58352d26</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">MPFR (3.1.5) - <span class="token">1,101 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.mpfr.org/">http://www.mpfr.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.mpfr.org/mpfr-3.1.5/mpfr-3.1.5.tar.xz">http://www.mpfr.org/mpfr-3.1.5/mpfr-3.1.5.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c4ac246cf9795a4491e7766002cd528f</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Ncurses (6.0) - <span class="token">3,059 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/ncurses/">http://www.gnu.org/software/ncurses/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu//ncurses/ncurses-6.0.tar.gz">http://ftp.gnu.org/gnu//ncurses/ncurses-6.0.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">ee13d052e1ead260d7c28071f46eefb1</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Patch (2.7.5) - <span class="token">711 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://savannah.gnu.org/projects/patch/">http://savannah.gnu.org/projects/patch/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/patch/patch-2.7.5.tar.xz">http://ftp.gnu.org/gnu/patch/patch-2.7.5.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">e3da7940431633fb65a01b91d3b7a27a</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Perl (5.24.1) - <span class="token">13,759 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.perl.org/">http://www.perl.org/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.cpan.org/src/5.0/perl-5.24.1.tar.bz2">http://www.cpan.org/src/5.0/perl-5.24.1.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">178ee0e8fa544dbc76d99cf041e2c9f0</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Pkg-config (0.29.1) - <span class="token">1,967 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.freedesktop.org/wiki/Software/pkg-config">http://www.freedesktop.org/wiki/Software/pkg-config</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://pkg-config.freedesktop.org/releases/pkg-config-0.29.1.tar.gz">
                      https://pkg-config.freedesktop.org/releases/pkg-config-0.29.1.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">f739a28cae4e0ca291f82d1d41ef107d</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Procps (3.3.12) - <span class="token">826 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://sourceforge.net/projects/procps-ng">http://sourceforge.net/projects/procps-ng</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://sourceforge.net/projects/procps-ng/files/Production/procps-ng-3.3.12.tar.xz">
                      http://sourceforge.net/projects/procps-ng/files/Production/procps-ng-3.3.12.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">957e42e8b193490b2111252e4a2b443c</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Psmisc (22.21) - <span class="token">447 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://psmisc.sourceforge.net/">http://psmisc.sourceforge.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://downloads.sourceforge.net/project/psmisc/psmisc/psmisc-22.21.tar.gz">
                      http://downloads.sourceforge.net/project/psmisc/psmisc/psmisc-22.21.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">935c0fd6eb208288262b385fa656f1bf</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Readline (7.0) - <span class="token">2,842 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html">
                      http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/readline/readline-7.0.tar.gz">http://ftp.gnu.org/gnu/readline/readline-7.0.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">205b03a87fc83dab653b628c59b9fc91</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Sed (4.4) - <span class="token">1,154
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/sed/">http://www.gnu.org/software/sed/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/sed/sed-4.4.tar.xz">http://ftp.gnu.org/gnu/sed/sed-4.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">e0c583d4c380059abd818cd540fe6938</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Shadow (4.4) - <span class="token">1,593 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="https://github.com/shadow-maint/shadow/releases/download/4.4/shadow-4.4.tar.xz">
                      https://github.com/shadow-maint/shadow/releases/download/4.4/shadow-4.4.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c06f8c2571b44899e60662f9ad259dd6</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Sysklogd (1.5.1) - <span class="token">88 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.infodrom.org/projects/sysklogd/">http://www.infodrom.org/projects/sysklogd/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.5.1.tar.gz">
                      http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.5.1.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c70599ab0d037fde724f7210c2c8d7f8</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Sysvinit (2.88dsf) - <span class="token">108 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://savannah.nongnu.org/projects/sysvinit">http://savannah.nongnu.org/projects/sysvinit</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://download.savannah.gnu.org/releases/sysvinit/sysvinit-2.88dsf.tar.bz2">
                      http://download.savannah.gnu.org/releases/sysvinit/sysvinit-2.88dsf.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">6eda8a97b86e0a6f59dabbf25202aa6f</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Tar (1.29) - <span class="token">1,950
                    KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/tar/">http://www.gnu.org/software/tar/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/tar/tar-1.29.tar.xz">http://ftp.gnu.org/gnu/tar/tar-1.29.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">a1802fec550baaeecff6c381629653ef</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Tcl (8.6.6) - <span class="token">5,731 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://tcl.sourceforge.net/">http://tcl.sourceforge.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://sourceforge.net/projects/tcl/files/Tcl/8.6.6/tcl-core8.6.6-src.tar.gz">
                      http://sourceforge.net/projects/tcl/files/Tcl/8.6.6/tcl-core8.6.6-src.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">98ebf13bbd90257e006c219369dd5f67</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Texinfo (6.3) - <span class="token">4,364 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.gnu.org/software/texinfo/">http://www.gnu.org/software/texinfo/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://ftp.gnu.org/gnu/texinfo/texinfo-6.3.tar.xz">http://ftp.gnu.org/gnu/texinfo/texinfo-6.3.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">32baefe5c7080dfb512a4eac5ce67b2a</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Time Zone Data (2016j) - <span class="token">316 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.iana.org/time-zones">http://www.iana.org/time-zones</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://www.iana.org/time-zones/repository/releases/tzdata2016j.tar.gz">
                      http://www.iana.org/time-zones/repository/releases/tzdata2016j.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">db361d005ac8b30a2d18c5ca38d3e8ab</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Udev-lfs Tarball (udev-lfs-20140408) -
                    <span class="token">11 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://anduin.linuxfromscratch.org/LFS/udev-lfs-20140408.tar.bz2">
                      http://anduin.linuxfromscratch.org/LFS/udev-lfs-20140408.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">c2d6b127f89261513b23b6d458484099</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Util-linux (2.29.1) - <span class="token">4,179 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://freecode.com/projects/util-linux">http://freecode.com/projects/util-linux</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="https://www.kernel.org/pub/linux/utils/util-linux/v2.29/util-linux-2.29.1.tar.xz">
                      https://www.kernel.org/pub/linux/utils/util-linux/v2.29/util-linux-2.29.1.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">0cbb6d16ab9c5736e5649ef1264bee6e</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Vim (8.0.069) - <span class="token">10,389 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.vim.org/">http://www.vim.org</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="ftp://ftp.vim.org/pub/vim/unix/vim-8.0.069.tar.bz2">ftp://ftp.vim.org/pub/vim/unix/vim-8.0.069.tar.bz2</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">457543a7754b0d3c1c0aa4d4c3bb4070</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">XML::Parser (2.44) - <span class="token">232 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="https://github.com/chorny/XML-Parser">https://github.com/chorny/XML-Parser</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://cpan.metacpan.org/authors/id/T/TO/TODDR/XML-Parser-2.44.tar.gz">
                      http://cpan.metacpan.org/authors/id/T/TO/TODDR/XML-Parser-2.44.tar.gz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">af4813fe3952362451201ced6fbce379</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Xz Utils (5.2.3) - <span class="token">1009 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://tukaani.org/xz">http://tukaani.org/xz</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://tukaani.org/xz/xz-5.2.3.tar.xz">http://tukaani.org/xz/xz-5.2.3.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">60fb79cab777e3f71ca43d298adacbd5</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Zlib (1.2.11) - <span class="token">457 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Home page: <a class="ulink" href="http://www.zlib.net/">http://www.zlib.net/</a>
                    </p>
                    <p>
                      Download: <a class="ulink" href="http://zlib.net/zlib-1.2.11.tar.xz">http://zlib.net/zlib-1.2.11.tar.xz</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">85adef240c5f370b308da8c938951a68</code>
                    </p>
                  </dd>
                </dl>
              </div>
            </div>
            <p>
              Total size of these packages: about 352 MB
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="materials-patches" name="materials-patches"></a>3.3.&nbsp;Needed Patches
                  </h2>
                </div>
              </div>
            </div>
            <p>
              In addition to the packages, several patches are also required.
              These patches correct any mistakes in the packages that should
              be fixed by the maintainer. The patches also make small
              modifications to make the packages easier to work with. The
              following patches will be needed to build an LFS system:
            </p>
            <div class="materials">
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">Bash Upstream Fixes Patch -
                    <span class="token">17 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/bash-4.4-upstream_fixes-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/bash-4.4-upstream_fixes-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">e3d5bf23a4e5628680893d46e6ff286e</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bc Memory Leak Patch - <span class="token">1.4 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/bc-1.06.95-memory_leak-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/bc-1.06.95-memory_leak-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">877e81fba316fe487ec23501059d54b8</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Bzip2 Documentation Patch -
                    <span class="token">1.6 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/bzip2-1.0.6-install_docs-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/bzip2-1.0.6-install_docs-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">6a5ac7e89b791aae556de0f745916f7f</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Coreutils Internationalization Fixes
                    Patch - <span class="token">168 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/coreutils-8.26-i18n-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/coreutils-8.26-i18n-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">e1f87b10b23d66344e5e99e7fabfa7a2</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Glibc FHS Patch - <span class="token">2.8 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/glibc-2.25-fhs-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/glibc-2.25-fhs-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">9a5997c3452909b1769918c759eff8a2</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Kbd Backspace/Delete Fix Patch -
                    <span class="token">12 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/kbd-2.0.4-backspace-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/kbd-2.0.4-backspace-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">f75cca16a38da6caa7d52151f7136895</code>
                    </p>
                  </dd>
                  <dt>
                    <span class="term">Sysvinit Consolidated Patch -
                    <span class="token">3.9 KB</span>:</span>
                  </dt>
                  <dd>
                    <p>
                      Download: <a class="ulink" href="http://www.linuxfromscratch.org/patches/lfs/8.0/sysvinit-2.88dsf-consolidated-1.patch">
                      http://www.linuxfromscratch.org/patches/lfs/8.0/sysvinit-2.88dsf-consolidated-1.patch</a>
                    </p>
                    <p>
                      MD5 sum: <code class="literal">0b7b5ea568a878fdcc4057b2bf36e5cb</code>
                    </p>
                  </dd>
                </dl>
              </div>
            </div>
            <p>
              Total size of these patches: about 206.7 KB
            </p>
            <p>
              In addition to the above required patches, there exist a number
              of optional patches created by the LFS community. These
              optional patches solve minor problems or enable functionality
              that is not enabled by default. Feel free to peruse the patches
              database located at <a class="ulink" href="http://www.linuxfromscratch.org/patches/downloads/">http://www.linuxfromscratch.org/patches/downloads/</a>
              and acquire any additional patches to suit your system needs.
            </p>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-final-preps" name="chapter-final-preps"></a>Chapter&nbsp;4.&nbsp;Final
                  Preparations
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="prepare-introduction" name="prepare-introduction"></a>4.1.&nbsp;Introduction
                  </h2>
                </div>
              </div>
            </div>
            <p>
              In this chapter, we will perform a few additional tasks to
              prepare for building the temporary system. We will create a
              directory in <code class="filename">$LFS</code> for the
              installation of the temporary tools, add an unprivileged user
              to reduce risk, and create an appropriate build environment for
              that user. We will also explain the unit of time we use to
              measure how long LFS packages take to build, or <span class="quote">“<span class="quote">SBUs</span>”</span>,
              and give some information about package test suites.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-creatingtoolsdir" name="ch-tools-creatingtoolsdir"></a>4.2.&nbsp;Creating the
                    $LFS/tools Directory
                  </h2>
                </div>
              </div>
            </div>
            <p>
              All programs compiled in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> will be installed under <code class="filename">$LFS/tools</code> to keep them separate from the
              programs compiled in <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
              6</a>. The programs compiled here are temporary tools and will
              not be a part of the final LFS system. By keeping these
              programs in a separate directory, they can easily be discarded
              later after their use. This also prevents these programs from
              ending up in the host production directories (easy to do by
              accident in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a>).
            </p>
            <p>
              Create the required directory by running the following as
              <code class="systemitem">root</code>:
            </p>
            <pre class="userinput"><kbd class="command">mkdir -v $LFS/tools</kbd>
</pre>
            <p>
              The next step is to create a <code class="filename">/tools</code> symlink on the host system. This will
              point to the newly-created directory on the LFS partition. Run
              this command as <code class="systemitem">root</code> as well:
            </p>
            <pre class="userinput"><kbd class="command">ln -sv $LFS/tools /</kbd>
</pre>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                The above command is correct. The <span class="command"><strong>ln</strong></span> command has a few
                syntactic variations, so be sure to check <span class="command"><strong>info coreutils ln</strong></span> and
                <code class="filename">ln(1)</code> before reporting what you
                may think is an error.
              </p>
            </div>
            <p>
              The created symlink enables the toolchain to be compiled so
              that it always refers to <code class="filename">/tools</code>,
              meaning that the compiler, assembler, and linker will work both
              in Chapter 5 (when we are still using some tools from the host)
              and in the next (when we are <span class="quote">“<span class="quote">chrooted</span>”</span> to the LFS partition).
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-addinguser" name="ch-tools-addinguser"></a>4.3.&nbsp;Adding the LFS User
                  </h2>
                </div>
              </div>
            </div>
            <p>
              When logged in as user <code class="systemitem">root</code>,
              making a single mistake can damage or destroy a system.
              Therefore, we recommend building the packages in this chapter
              as an unprivileged user. You could use your own user name, but
              to make it easier to set up a clean working environment, create
              a new user called <code class="systemitem">lfs</code> as a
              member of a new group (also named <code class="systemitem">lfs</code>) and use this user during the
              installation process. As <code class="systemitem">root</code>,
              issue the following commands to add the new user:
            </p>
            <pre class="userinput"><kbd class="command">groupadd lfs
useradd -s /bin/bash -g lfs -m -k /dev/null lfs</kbd>
</pre>
            <div class="variablelist">
              <p class="title">
                <strong>The meaning of the command line options:</strong>
              </p>
              <dl class="variablelist">
                <dt>
                  <span class="term"><em class="parameter"><code>-s
                  /bin/bash</code></em></span>
                </dt>
                <dd>
                  <p>
                    This makes <span class="command"><strong>bash</strong></span> the default shell
                    for user <code class="systemitem">lfs</code>.
                  </p>
                </dd>
                <dt>
                  <span class="term"><em class="parameter"><code>-g
                  lfs</code></em></span>
                </dt>
                <dd>
                  <p>
                    This option adds user <code class="systemitem">lfs</code>
                    to group <code class="systemitem">lfs</code>.
                  </p>
                </dd>
                <dt>
                  <span class="term"><em class="parameter"><code>-m</code></em></span>
                </dt>
                <dd>
                  <p>
                    This creates a home directory for <code class="systemitem">lfs</code>.
                  </p>
                </dd>
                <dt>
                  <span class="term"><em class="parameter"><code>-k
                  /dev/null</code></em></span>
                </dt>
                <dd>
                  <p>
                    This parameter prevents possible copying of files from a
                    skeleton directory (default is <code class="filename">/etc/skel</code>) by changing the input
                    location to the special null device.
                  </p>
                </dd>
                <dt>
                  <span class="term"><em class="parameter"><code>lfs</code></em></span>
                </dt>
                <dd>
                  <p>
                    This is the actual name for the created group and user.
                  </p>
                </dd>
              </dl>
            </div>
            <p>
              To log in as <code class="systemitem">lfs</code> (as opposed to
              switching to user <code class="systemitem">lfs</code> when
              logged in as <code class="systemitem">root</code>, which does
              not require the <code class="systemitem">lfs</code> user to
              have a password), give <code class="systemitem">lfs</code> a
              password:
            </p>
            <pre class="userinput"><kbd class="command">passwd lfs</kbd>
</pre>
            <p>
              Grant <code class="systemitem">lfs</code> full access to
              <code class="filename">$LFS/tools</code> by making <code class="systemitem">lfs</code> the directory owner:
            </p>
            <pre class="userinput"><kbd class="command">chown -v lfs $LFS/tools</kbd>
</pre>
            <p>
              If a separate working directory was created as suggested, give
              user <code class="systemitem">lfs</code> ownership of this
              directory:
            </p>
            <pre class="userinput"><kbd class="command">chown -v lfs $LFS/sources</kbd>
</pre>
            <p>
              Next, login as user <code class="systemitem">lfs</code>. This
              can be done via a virtual console, through a display manager,
              or with the following substitute user command:
            </p>
            <pre class="userinput"><kbd class="command">su - lfs</kbd>
</pre>
            <p>
              The <span class="quote">“<span class="quote"><em class="parameter"><code>-</code></em></span>”</span> instructs
              <span class="command"><strong>su</strong></span> to start a
              login shell as opposed to a non-login shell. The difference
              between these two types of shells can be found in detail in
              <code class="filename">bash(1)</code> and <span class="command"><strong>info bash</strong></span>.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-settingenviron" name="ch-tools-settingenviron"></a>4.4.&nbsp;Setting Up the
                    Environment
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Set up a good working environment by creating two new startup
              files for the <span class="command"><strong>bash</strong></span> shell. While logged in
              as user <code class="systemitem">lfs</code>, issue the
              following command to create a new <code class="filename">.bash_profile</code>:
            </p>
            <pre class="userinput"><kbd class="command">cat &gt; ~/.bash_profile &lt;&lt; "EOF"
<code class="literal">exec env -i HOME=$HOME TERM=$TERM PS1='\u:\w\$ ' /bin/bash</code>
EOF</kbd>
</pre>
            <p>
              When logged on as user <code class="systemitem">lfs</code>, the
              initial shell is usually a <span class="emphasis"><em>login</em></span> shell which reads the
              <code class="filename">/etc/profile</code> of the host
              (probably containing some settings and environment variables)
              and then <code class="filename">.bash_profile</code>. The
              <span class="command"><strong>exec env
              -i.../bin/bash</strong></span> command in the <code class="filename">.bash_profile</code> file replaces the running shell
              with a new one with a completely empty environment, except for
              the <code class="envar">HOME</code>, <code class="envar">TERM</code>, and <code class="envar">PS1</code>
              variables. This ensures that no unwanted and potentially
              hazardous environment variables from the host system leak into
              the build environment. The technique used here achieves the
              goal of ensuring a clean environment.
            </p>
            <p>
              The new instance of the shell is a <span class="emphasis"><em>non-login</em></span> shell, which does not read
              the <code class="filename">/etc/profile</code> or <code class="filename">.bash_profile</code> files, but rather reads the
              <code class="filename">.bashrc</code> file instead. Create the
              <code class="filename">.bashrc</code> file now:
            </p>
            <pre class="userinput"><kbd class="command">cat &gt; ~/.bashrc &lt;&lt; "EOF"
<code class="literal">set +h
umask 022
LFS=/mnt/lfs
LC_ALL=POSIX
LFS_TGT=$(uname -m)-lfs-linux-gnu
PATH=/tools/bin:/bin:/usr/bin
export LFS LC_ALL LFS_TGT PATH</code>
EOF</kbd>
</pre>
            <p>
              The <span class="command"><strong>set +h</strong></span>
              command turns off <span class="command"><strong>bash</strong></span>'s hash function. Hashing
              is ordinarily a useful feature—<span class="command"><strong>bash</strong></span> uses a hash table to
              remember the full path of executable files to avoid searching
              the <code class="envar">PATH</code> time and again to find the
              same executable. However, the new tools should be used as soon
              as they are installed. By switching off the hash function, the
              shell will always search the <code class="envar">PATH</code>
              when a program is to be run. As such, the shell will find the
              newly compiled tools in <code class="filename">$LFS/tools</code> as soon as they are available
              without remembering a previous version of the same program in a
              different location.
            </p>
            <p>
              Setting the user file-creation mask (umask) to 022 ensures that
              newly created files and directories are only writable by their
              owner, but are readable and executable by anyone (assuming
              default modes are used by the <code class="function">open(2)</code> system call, new files will end up
              with permission mode 644 and directories with mode 755).
            </p>
            <p>
              The <code class="envar">LFS</code> variable should be set to
              the chosen mount point.
            </p>
            <p>
              The <code class="envar">LC_ALL</code> variable controls the
              localization of certain programs, making their messages follow
              the conventions of a specified country. Setting <code class="envar">LC_ALL</code> to <span class="quote">“<span class="quote">POSIX</span>”</span>
              or <span class="quote">“<span class="quote">C</span>”</span> (the two are equivalent) ensures
              that everything will work as expected in the chroot
              environment.
            </p>
            <p>
              The <code class="envar">LFS_TGT</code> variable sets a
              non-default, but compatible machine description for use when
              building our cross compiler and linker and when cross compiling
              our temporary toolchain. More information is contained in
              <a class="xref" href="#ch-tools-toolchaintechnotes" title="5.2.&nbsp;Toolchain Technical Notes">Section&nbsp;5.2,
              “Toolchain Technical Notes”</a>.
            </p>
            <p>
              By putting <code class="filename">/tools/bin</code> ahead of
              the standard <code class="envar">PATH</code>, all the programs
              installed in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> are picked up by the shell immediately after their
              installation. This, combined with turning off hashing, limits
              the risk that old programs are used from the host when the same
              programs are available in the chapter 5 environment.
            </p>
            <p>
              Finally, to have the environment fully prepared for building
              the temporary tools, source the just-created user profile:
            </p>
            <pre class="userinput"><kbd class="command">source ~/.bash_profile</kbd>
</pre>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="prepare-aboutsbus" name="prepare-aboutsbus"></a>4.5.&nbsp;About SBUs
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Many people would like to know beforehand approximately how
              long it takes to compile and install each package. Because
              Linux From Scratch can be built on many different systems, it
              is impossible to provide accurate time estimates. The biggest
              package (Glibc) will take approximately 20 minutes on the
              fastest systems, but could take up to three days on slower
              systems! Instead of providing actual times, the Standard Build
              Unit (SBU) measure will be used instead.
            </p>
            <p>
              The SBU measure works as follows. The first package to be
              compiled from this book is Binutils in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a>. The time it takes to compile this package is what will
              be referred to as the Standard Build Unit or SBU. All other
              compile times will be expressed relative to this time.
            </p>
            <p>
              For example, consider a package whose compilation time is 4.5
              SBUs. This means that if a system took 10 minutes to compile
              and install the first pass of Binutils, it will take
              <span class="emphasis"><em>approximately</em></span> 45 minutes
              to build this example package. Fortunately, most build times
              are shorter than the one for Binutils.
            </p>
            <p>
              In general, SBUs are not entirely accurate because they depend
              on many factors, including the host system's version of GCC.
              They are provided here to give an estimate of how long it might
              take to install a package, but the numbers can vary by as much
              as dozens of minutes in some cases.
            </p>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                For many modern systems with multiple processors (or cores)
                the compilation time for a package can be reduced by
                performing a "parallel make" by either setting an environment
                variable or telling the <span class="command"><strong>make</strong></span> program how many
                processors are available. For instance, a Core2Duo can
                support two simultaneous processes with:
              </p>
              <pre class="userinput"><kbd class="command">export MAKEFLAGS='-j 2'</kbd>
</pre>
              <p>
                or just building with:
              </p>
              <pre class="userinput"><kbd class="command">make -j2</kbd>
</pre>
              <p>
                When multiple processors are used in this way, the SBU units
                in the book will vary even more than they normally would. In
                some cases, the make step will simply fail. Analyzing the
                output of the build process will also be more difficult
                because the lines of different processes will be interleaved.
                If you run into a problem with a build step, revert back to a
                single processor build to properly analyze the error
                messages.
              </p>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="prepare-abouttestsuites" name="prepare-abouttestsuites"></a>4.6.&nbsp;About the Test
                    Suites
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Most packages provide a test suite. Running the test suite for
              a newly built package is a good idea because it can provide a
              <span class="quote">“<span class="quote">sanity
              check</span>”</span> indicating that everything compiled
              correctly. A test suite that passes its set of checks usually
              proves that the package is functioning as the developer
              intended. It does not, however, guarantee that the package is
              totally bug free.
            </p>
            <p>
              Some test suites are more important than others. For example,
              the test suites for the core toolchain packages—GCC,
              Binutils, and Glibc—are of the utmost importance due to
              their central role in a properly functioning system. The test
              suites for GCC and Glibc can take a very long time to complete,
              especially on slower hardware, but are strongly recommended.
            </p>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                Experience has shown that there is little to be gained from
                running the test suites in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
                5</a>. There can be no escaping the fact that the host system
                always exerts some influence on the tests in that chapter,
                often causing inexplicable failures. Because the tools built
                in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
                5</a> are temporary and eventually discarded, we do not
                recommend running the test suites in <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
                5</a> for the average reader. The instructions for running
                those test suites are provided for the benefit of testers and
                developers, but they are strictly optional.
              </p>
            </div>
            <p>
              A common issue with running the test suites for Binutils and
              GCC is running out of pseudo terminals (PTYs). This can result
              in a high number of failing tests. This may happen for several
              reasons, but the most likely cause is that the host system does
              not have the <code class="systemitem">devpts</code> file system
              set up correctly. This issue is discussed in greater detail at
              <a class="ulink" href="http://www.linuxfromscratch.org/lfs/faq.html#no-ptys">http://www.linuxfromscratch.org/lfs/faq.html#no-ptys</a>.
            </p>
            <p>
              Sometimes package test suites will fail, but for reasons which
              the developers are aware of and have deemed non-critical.
              Consult the logs located at <a class="ulink" href="http://www.linuxfromscratch.org/lfs/build-logs/8.0/">http://www.linuxfromscratch.org/lfs/build-logs/8.0/</a>
              to verify whether or not these failures are expected. This site
              is valid for all tests throughout this book.
            </p>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-temporary-tools" name="chapter-temporary-tools"></a>Chapter&nbsp;5.&nbsp;Constructing
                  a Temporary System
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-introduction" name="ch-tools-introduction"></a>5.1.&nbsp;Introduction
                  </h2>
                </div>
              </div>
            </div>
            <p>
              This chapter shows how to build a minimal Linux system. This
              system will contain just enough tools to start constructing the
              final LFS system in <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
              6</a> and allow a working environment with more user
              convenience than a minimum environment would.
            </p>
            <p>
              There are two steps in building this minimal system. The first
              step is to build a new and host-independent toolchain
              (compiler, assembler, linker, libraries, and a few useful
              utilities). The second step uses this toolchain to build the
              other essential tools.
            </p>
            <p>
              The files compiled in this chapter will be installed under the
              <code class="filename">$LFS/tools</code> directory to keep them
              separate from the files installed in the next chapter and the
              host production directories. Since the packages compiled here
              are temporary, we do not want them to pollute the soon-to-be
              LFS system.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-toolchaintechnotes" name="ch-tools-toolchaintechnotes"></a>5.2.&nbsp;Toolchain
                    Technical Notes
                  </h2>
                </div>
              </div>
            </div>
            <p>
              This section explains some of the rationale and technical
              details behind the overall build method. It is not essential to
              immediately understand everything in this section. Most of this
              information will be clearer after performing an actual build.
              This section can be referred to at any time during the process.
            </p>
            <p>
              The overall goal of <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> is to produce a temporary area that contains a known-good
              set of tools that can be isolated from the host system. By
              using <span class="command"><strong>chroot</strong></span>, the
              commands in the remaining chapters will be contained within
              that environment, ensuring a clean, trouble-free build of the
              target LFS system. The build process has been designed to
              minimize the risks for new readers and to provide the most
              educational value at the same time.
            </p>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                Before continuing, be aware of the name of the working
                platform, often referred to as the target triplet. A simple
                way to determine the name of the target triplet is to run the
                <span class="command"><strong>config.guess</strong></span>
                script that comes with the source for many packages. Unpack
                the Binutils sources and run the script: <strong class="userinput"><code>./config.guess</code></strong> and note the
                output. For example, for a 32-bit Intel processor the output
                will be <span class="emphasis"><em>i686-pc-linux-gnu</em></span>. On a 64-bit
                system it will be <span class="emphasis"><em>x86_64-pc-linux-gnu</em></span>.
              </p>
              <p>
                Also be aware of the name of the platform's dynamic linker,
                often referred to as the dynamic loader (not to be confused
                with the standard linker <span class="command"><strong>ld</strong></span> that is part of
                Binutils). The dynamic linker provided by Glibc finds and
                loads the shared libraries needed by a program, prepares the
                program to run, and then runs it. The name of the dynamic
                linker for a 32-bit Intel machine will be <code class="filename">ld-linux.so.2</code> (<code class="filename">ld-linux-x86-64.so.2</code> for 64-bit systems). A
                sure-fire way to determine the name of the dynamic linker is
                to inspect a random binary from the host system by running:
                <strong class="userinput"><code>readelf -l &lt;name of
                binary&gt; | grep interpreter</code></strong> and noting the
                output. The authoritative reference covering all platforms is
                in the <code class="filename">shlib-versions</code> file in
                the root of the Glibc source tree.
              </p>
            </div>
            <p>
              Some key technical points of how the <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> build method works:
            </p>
            <div class="itemizedlist">
              <ul>
                <li class="listitem">
                  <p>
                    Slightly adjusting the name of the working platform, by
                    changing the "vendor" field target triplet by way of the
                    <code class="envar">LFS_TGT</code> variable, ensures that
                    the first build of Binutils and GCC produces a compatible
                    cross-linker and cross-compiler. Instead of producing
                    binaries for another architecture, the cross-linker and
                    cross-compiler will produce binaries compatible with the
                    current hardware.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    The temporary libraries are cross-compiled. Because a
                    cross-compiler by its nature cannot rely on anything from
                    its host system, this method removes potential
                    contamination of the target system by lessening the
                    chance of headers or libraries from the host being
                    incorporated into the new tools. Cross-compilation also
                    allows for the possibility of building both 32-bit and
                    64-bit libraries on 64-bit capable hardware.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Careful manipulation of the GCC source tells the compiler
                    which target dynamic linker will be used.
                  </p>
                </li>
              </ul>
            </div>
            <p>
              Binutils is installed first because the <span class="command"><strong>configure</strong></span> runs of both GCC
              and Glibc perform various feature tests on the assembler and
              linker to determine which software features to enable or
              disable. This is more important than one might first realize.
              An incorrectly configured GCC or Glibc can result in a subtly
              broken toolchain, where the impact of such breakage might not
              show up until near the end of the build of an entire
              distribution. A test suite failure will usually highlight this
              error before too much additional work is performed.
            </p>
            <p>
              Binutils installs its assembler and linker in two locations,
              <code class="filename">/tools/bin</code> and <code class="filename">/tools/$LFS_TGT/bin</code>. The tools in one
              location are hard linked to the other. An important facet of
              the linker is its library search order. Detailed information
              can be obtained from <span class="command"><strong>ld</strong></span> by passing it the
              <em class="parameter"><code>--verbose</code></em> flag. For
              example, an <strong class="userinput"><code>ld --verbose | grep
              SEARCH</code></strong> will illustrate the current search paths
              and their order. It shows which files are linked by
              <span class="command"><strong>ld</strong></span> by compiling a
              dummy program and passing the <em class="parameter"><code>--verbose</code></em> switch to the linker.
              For example, <strong class="userinput"><code>gcc dummy.c
              -Wl,--verbose 2&gt;&amp;1 | grep succeeded</code></strong> will
              show all the files successfully opened during the linking.
            </p>
            <p>
              The next package installed is GCC. An example of what can be
              seen during its run of <span class="command"><strong>configure</strong></span> is:
            </p>
            <pre class="screen"><code class="computeroutput">checking what assembler to use... /tools/i686-lfs-linux-gnu/bin/as
checking what linker to use... /tools/i686-lfs-linux-gnu/bin/ld</code>
</pre>
            <p>
              This is important for the reasons mentioned above. It also
              demonstrates that GCC's configure script does not search the
              PATH directories to find which tools to use. However, during
              the actual operation of <span class="command"><strong>gcc</strong></span> itself, the same search
              paths are not necessarily used. To find out which standard
              linker <span class="command"><strong>gcc</strong></span> will
              use, run: <strong class="userinput"><code>gcc
              -print-prog-name=ld</code></strong>.
            </p>
            <p>
              Detailed information can be obtained from <span class="command"><strong>gcc</strong></span> by passing it the
              <em class="parameter"><code>-v</code></em> command line option
              while compiling a dummy program. For example, <strong class="userinput"><code>gcc -v dummy.c</code></strong> will show
              detailed information about the preprocessor, compilation, and
              assembly stages, including <span class="command"><strong>gcc</strong></span>'s included search paths
              and their order.
            </p>
            <p>
              Next installed are sanitized Linux API headers. These allow the
              standard C library (Glibc) to interface with features that the
              Linux kernel will provide.
            </p>
            <p>
              The next package installed is Glibc. The most important
              considerations for building Glibc are the compiler, binary
              tools, and kernel headers. The compiler is generally not an
              issue since Glibc will always use the compiler relating to the
              <em class="parameter"><code>--host</code></em> parameter passed
              to its configure script; e.g. in our case, the compiler will be
              <span class="command"><strong>i686-lfs-linux-gnu-gcc</strong></span>. The
              binary tools and kernel headers can be a bit more complicated.
              Therefore, take no risks and use the available configure
              switches to enforce the correct selections. After the run of
              <span class="command"><strong>configure</strong></span>, check
              the contents of the <code class="filename">config.make</code>
              file in the <code class="filename">glibc-build</code> directory
              for all important details. Note the use of <em class="parameter"><code>CC="i686-lfs-gnu-gcc"</code></em> to control
              which binary tools are used and the use of the <em class="parameter"><code>-nostdinc</code></em> and <em class="parameter"><code>-isystem</code></em> flags to control the
              compiler's include search path. These items highlight an
              important aspect of the Glibc package—it is very
              self-sufficient in terms of its build machinery and generally
              does not rely on toolchain defaults.
            </p>
            <p>
              During the second pass of Binutils, we are able to utilize the
              <em class="parameter"><code>--with-lib-path</code></em>
              configure switch to control <span class="command"><strong>ld</strong></span>'s library search path.
            </p>
            <p>
              For the second pass of GCC, its sources also need to be
              modified to tell GCC to use the new dynamic linker. Failure to
              do so will result in the GCC programs themselves having the
              name of the dynamic linker from the host system's <code class="filename">/lib</code> directory embedded into them, which
              would defeat the goal of getting away from the host. From this
              point onwards, the core toolchain is self-contained and
              self-hosted. The remainder of the <a class="xref" href="#chapter-temporary-tools" title="Chapter&nbsp;5.&nbsp;Constructing a Temporary System">Chapter
              5</a> packages all build against the new Glibc in <code class="filename">/tools</code>.
            </p>
            <p>
              Upon entering the chroot environment in <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
              6</a>, the first major package to be installed is Glibc, due to
              its self-sufficient nature mentioned above. Once this Glibc is
              installed into <code class="filename">/usr</code>, we will
              perform a quick changeover of the toolchain defaults, and then
              proceed in building the rest of the target LFS system.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-generalinstructions" name="ch-tools-generalinstructions"></a>5.3.&nbsp;General
                    Compilation Instructions
                  </h2>
                </div>
              </div>
            </div>
            <p>
              When building packages there are several assumptions made
              within the instructions:
            </p>
            <div class="itemizedlist">
              <ul>
                <li class="listitem">
                  <p>
                    Several of the packages are patched before compilation,
                    but only when the patch is needed to circumvent a
                    problem. A patch is often needed in both this and the
                    next chapter, but sometimes in only one or the other.
                    Therefore, do not be concerned if instructions for a
                    downloaded patch seem to be missing. Warning messages
                    about <span class="emphasis"><em>offset</em></span> or
                    <span class="emphasis"><em>fuzz</em></span> may also be
                    encountered when applying a patch. Do not worry about
                    these warnings, as the patch was still successfully
                    applied.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    During the compilation of most packages, there will be
                    several warnings that scroll by on the screen. These are
                    normal and can safely be ignored. These warnings are as
                    they appear—warnings about deprecated, but not
                    invalid, use of the C or C++ syntax. C standards change
                    fairly often, and some packages still use the older
                    standard. This is not a problem, but does prompt the
                    warning.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Check one last time that the <code class="envar">LFS</code> environment variable is set up
                    properly:
                  </p>
                  <pre class="userinput"><kbd class="command">echo $LFS</kbd>
</pre>
                  <p>
                    Make sure the output shows the path to the LFS
                    partition's mount point, which is <code class="filename">/mnt/lfs</code>, using our example.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    Finally, two last important items must be emphasized:
                  </p>
                  <div class="admon important">
                    <h3>
                      Important
                    </h3>
                    <p>
                      The build instructions assume that the <a class="xref" href="#pre-hostreqs" title="2.2.&nbsp;Host System Requirements">Host System
                      Requirements</a>, including symbolic links, have been
                      set properly:
                    </p>
                    <div class="itemizedlist">
                      <ul>
                        <li class="listitem">
                          <p>
                            <span class="command"><strong>bash</strong></span> is the
                            shell in use.
                          </p>
                        </li>
                        <li class="listitem">
                          <p>
                            <span class="command"><strong>sh</strong></span>
                            is a symbolic link to <span class="command"><strong>bash</strong></span>.
                          </p>
                        </li>
                        <li class="listitem">
                          <p>
                            <span class="command"><strong>/usr/bin/awk</strong></span> is
                            a symbolic link to <span class="command"><strong>gawk</strong></span>.
                          </p>
                        </li>
                        <li class="listitem">
                          <p>
                            <span class="command"><strong>/usr/bin/yacc</strong></span>
                            is a symbolic link to <span class="command"><strong>bison</strong></span> or a
                            small script that executes bison.
                          </p>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="admon important">
                    <h3>
                      Important
                    </h3>
                    <p>
                      To re-emphasize the build process:
                    </p>
                    <div class="orderedlist">
                      <ol class="compact">
                        <li class="listitem">
                          <p>
                            Place all the sources and patches in a directory
                            that will be accessible from the chroot
                            environment such as <code class="filename">/mnt/lfs/sources/</code>. Do
                            <span class="emphasis"><em>not</em></span> put
                            sources in <code class="filename">/mnt/lfs/tools/</code>.
                          </p>
                        </li>
                        <li class="listitem">
                          <p>
                            Change to the sources directory.
                          </p>
                        </li>
                        <li class="listitem">
                          <p>
                            <a id="buildinstr" name="buildinstr"></a>For each
                            package:
                          </p>
                          <div class="orderedlist">
                            <ol class="compact">
                              <li class="listitem">
                                <p>
                                  Using the <span class="command"><strong>tar</strong></span>
                                  program, extract the package to be built.
                                  In Chapter 5, ensure you are the
                                  <span class="emphasis"><em>lfs</em></span>
                                  user when extracting the package.
                                </p>
                              </li>
                              <li class="listitem">
                                <p>
                                  Change to the directory created when the
                                  package was extracted.
                                </p>
                              </li>
                              <li class="listitem">
                                <p>
                                  Follow the book's instructions for building
                                  the package.
                                </p>
                              </li>
                              <li class="listitem">
                                <p>
                                  Change back to the sources directory.
                                </p>
                              </li>
                              <li class="listitem">
                                <p>
                                  Delete the extracted source directory
                                  unless instructed otherwise.
                                </p>
                              </li>
                            </ol>
                          </div>
                        </li>
                      </ol>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-binutils-pass1" name="ch-tools-binutils-pass1"></a>5.4.&nbsp;Binutils-2.27 -
                    Pass 1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Binutils package contains a linker, an assembler, and
                other tools for handling object files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">519 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.4.1. Installation of Cross Binutils
              </h3>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  Go back and re-read the notes in the previous section.
                  Understanding the notes labeled important will save you a
                  lot of problems later.
                </p>
              </div>
              <p>
                It is important that Binutils be the first package compiled
                because both Glibc and GCC perform various tests on the
                available linker and assembler to determine which of their
                own features to enable.
              </p>
              <p>
                The Binutils documentation recommends building Binutils in a
                dedicated build directory:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  In order for the SBU values listed in the rest of the book
                  to be of any use, measure the time it takes to build this
                  package from the configuration, up to and including the
                  first install. To achieve this easily, wrap the commands in
                  a <span class="command"><strong>time</strong></span>
                  command like this: <strong class="userinput"><code>time {
                  ./configure ... &amp;&amp; ... &amp;&amp; make install;
                  }</code></strong>.
                </p>
              </div>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  The approximate build SBU values and required disk space in
                  Chapter 5 does not include test suite data.
                </p>
              </div>
              <p>
                Now prepare Binutils for compilation:
              </p>
              <pre class="userinput"><kbd class="command">../configure --prefix=/tools            \
             --with-sysroot=$LFS        \
             --with-lib-path=/tools/lib \
             --target=$LFS_TGT          \
             --disable-nls              \
             --disable-werror</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--prefix=/tools</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells the configure script to prepare to install
                      the Binutils programs in the <code class="filename">/tools</code> directory.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-sysroot=$LFS</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      For cross compilation, this tells the build system to
                      look in $LFS for the target system libraries as needed.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-lib-path=/tools/lib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This specifies which library path the linker should be
                      configured to use.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><code class="envar">--target=$LFS_TGT</code></span>
                  </dt>
                  <dd>
                    <p>
                      Because the machine description in the <code class="envar">LFS_TGT</code> variable is slightly different
                      than the value returned by the <span class="command"><strong>config.guess</strong></span> script,
                      this switch will tell the <span class="command"><strong>configure</strong></span> script to
                      adjust Binutil's build system for building a cross
                      linker.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-nls</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This disables internationalization as i18n is not
                      needed for the temporary tools.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-werror</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This prevents the build from stopping in the event that
                      there are warnings from the host's compiler.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Continue with compiling the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. Ordinarily we would now run the
                test suite, but at this early stage the test suite framework
                (Tcl, Expect, and DejaGNU) is not yet in place. The benefits
                of running the tests at this point are minimal since the
                programs from this first pass will soon be replaced by those
                from the second.
              </p>
              <p>
                If building on x86_64, create a symlink to ensure the sanity
                of the toolchain:
              </p>
              <pre class="userinput"><kbd class="command">case $(uname -m) in
  x86_64) mkdir -v /tools/lib &amp;&amp; ln -sv lib /tools/lib64 ;;
esac</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-binutils" title="6.13.2.&nbsp;Contents of Binutils">Section&nbsp;6.13.2,
                “Contents of Binutils.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-gcc-pass1" name="ch-tools-gcc-pass1"></a>5.5.&nbsp;GCC-6.3.0 - Pass 1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The GCC package contains the GNU compiler collection, which
                includes the C and C++ compilers.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">8.4 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">2.5 GB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.5.1. Installation of Cross GCC
              </h3>
              <p>
                GCC now requires the GMP, MPFR and MPC packages. As these
                packages may not be included in your host distribution, they
                will be built with GCC. Unpack each package into the GCC
                source directory and rename the resulting directories so the
                GCC build procedures will automatically use them:
              </p>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  There are frequent misunderstandings about this chapter.
                  The procedures are the same as every other chapter as
                  explained earlier (<a class="xref" href="#buildinstr">Package build instructions</a>). First
                  extract the gcc tarball from the sources directory and then
                  change to the directory created. Only then should you
                  proceed with the instructions below.
                </p>
              </div>
              <pre class="userinput"><kbd class="command">tar -xf ../mpfr-3.1.5.tar.xz
mv -v mpfr-3.1.5 mpfr
tar -xf ../gmp-6.1.2.tar.xz
mv -v gmp-6.1.2 gmp
tar -xf ../mpc-1.0.3.tar.gz
mv -v mpc-1.0.3 mpc</kbd>
</pre>
              <p>
                The following command will change the location of GCC's
                default dynamic linker to use the one installed in
                <code class="filename">/tools</code>. It also removes
                <code class="filename">/usr/include</code> from GCC's include
                search path. Issue:
              </p>
              <pre class="userinput"><kbd class="command">for file in gcc/config/{linux,i386/linux{,64}}.h
do
  cp -uv $file{,.orig}
  sed -e 's@/lib\(64\)\?\(32\)\?/ld@/tools&amp;@g' \
      -e 's@/usr@/tools@g' $file.orig &gt; $file
  echo '
#undef STANDARD_STARTFILE_PREFIX_1
#undef STANDARD_STARTFILE_PREFIX_2
#define STANDARD_STARTFILE_PREFIX_1 "/tools/lib/"
#define STANDARD_STARTFILE_PREFIX_2 ""' &gt;&gt; $file
  touch $file.orig
done</kbd>
</pre>
              <p>
                In case the above seems hard to follow, let's break it down a
                bit. First we find all the files under the <code class="filename">gcc/config</code> directory that are named either
                <code class="filename">linux.h</code>, <code class="filename">linux64.h</code> or <code class="filename">sysv4.h</code>. For each file found, we copy it to
                a file of the same name but with an added suffix of
                <span class="quote">“<span class="quote">.orig</span>”</span>. Then the first sed
                expression prepends <span class="quote">“<span class="quote">/tools</span>”</span> to every instance of
                <span class="quote">“<span class="quote">/lib/ld</span>”</span>, <span class="quote">“<span class="quote">/lib64/ld</span>”</span> or <span class="quote">“<span class="quote">/lib32/ld</span>”</span>, while the second one
                replaces hard-coded instances of <span class="quote">“<span class="quote">/usr</span>”</span>.
                Next, we add our define statements which alter the default
                startfile prefix to the end of the file. Note that the
                trailing <span class="quote">“<span class="quote">/</span>”</span> in <span class="quote">“<span class="quote">/tools/lib/</span>”</span> is required.
                Finally, we use <span class="command"><strong>touch</strong></span> to update the
                timestamp on the copied files. When used in conjunction with
                <span class="command"><strong>cp -u</strong></span>, this
                prevents unexpected changes to the original files in case the
                commands are inadvertently run twice.
              </p>
              <p>
                Finally, on x86_64 hosts, set the default directory name for
                64-bit libraries to <span class="quote">“<span class="quote">lib</span>”</span>:
              </p>
              <pre class="userinput"><kbd class="command">case $(uname -m) in
  x86_64)
    sed -e '/m64=/s/lib64/lib/' \
        -i.orig gcc/config/i386/t-linux64
 ;;
esac</kbd>
</pre>
              <p>
                The GCC documentation recommends building GCC in a dedicated
                build directory:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <p>
                Prepare GCC for compilation:
              </p>
              <pre class="userinput"><kbd class="command">../configure                                       \
    --target=$LFS_TGT                              \
    --prefix=/tools                                \
    --with-glibc-version=2.11                      \
    --with-sysroot=$LFS                            \
    --with-newlib                                  \
    --without-headers                              \
    --with-local-prefix=/tools                     \
    --with-native-system-header-dir=/tools/include \
    --disable-nls                                  \
    --disable-shared                               \
    --disable-multilib                             \
    --disable-decimal-float                        \
    --disable-threads                              \
    --disable-libatomic                            \
    --disable-libgomp                              \
    --disable-libmpx                               \
    --disable-libquadmath                          \
    --disable-libssp                               \
    --disable-libvtv                               \
    --disable-libstdcxx                            \
    --enable-languages=c,c++</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-newlib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Since a working C library is not yet available, this
                      ensures that the inhibit_libc constant is defined when
                      building libgcc. This prevents the compiling of any
                      code that requires libc support.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-headers</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      When creating a complete cross-compiler, GCC requires
                      standard headers compatible with the target system. For
                      our purposes these headers will not be needed. This
                      switch prevents GCC from looking for them.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-local-prefix=/tools</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      The local prefix is the location in the system that GCC
                      will search for locally installed include files. The
                      default is <code class="filename">/usr/local</code>.
                      Setting this to <code class="filename">/tools</code>
                      helps keep the host location of <code class="filename">/usr/local</code> out of this GCC's search
                      path.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-native-system-header-dir=/tools/include</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      By default GCC searches <code class="filename">/usr/include</code> for system headers. In
                      conjunction with the sysroot switch, this would
                      translate normally to <code class="filename">$LFS/usr/include</code>. However the headers
                      that will be installed in the next two sections will go
                      to <code class="filename">$LFS/tools/include</code>.
                      This switch ensures that gcc will find them correctly.
                      In the second pass of GCC, this same switch will ensure
                      that no headers from the host system are found.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-shared</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This switch forces GCC to link its internal libraries
                      statically. We do this to avoid possible issues with
                      the host system.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-decimal-float,
                    --disable-threads, --disable-libatomic,
                    --disable-libgomp, --disable-libmpx,
                    --disable-libquadmath, --disable-libssp,
                    --disable-libvtv, --disable-libstdcxx</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      These switches disable support for the decimal floating
                      point extension, threading, libatomic, libgomp, libmpx,
                      libquadmath, libssp, libvtv, and the C++ standard
                      library respectively. These features will fail to
                      compile when building a cross-compiler and are not
                      necessary for the task of cross-compiling the temporary
                      libc.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-multilib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      On x86_64, LFS does not yet support a multilib
                      configuration. This switch is harmless for x86.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--enable-languages=c,c++</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This option ensures that only the C and C++ compilers
                      are built. These are the only languages needed now.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile GCC by running:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. At this point, the test suite
                would normally be run, but, as mentioned before, the test
                suite framework is not in place yet. The benefits of running
                the tests at this point are minimal since the programs from
                this first pass will soon be replaced.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gcc" title="6.17.2.&nbsp;Contents of GCC">Section&nbsp;6.17.2,
                “Contents of GCC.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-linux-headers" name="ch-tools-linux-headers"></a>5.6.&nbsp;Linux-4.9.9 API
                    Headers
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Linux API Headers (in linux-4.9.9.tar.xz) expose the
                kernel's API for use by Glibc.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">less than 0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">771 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.6.1. Installation of Linux API Headers
              </h3>
              <p>
                The Linux kernel needs to expose an Application Programming
                Interface (API) for the system's C library (Glibc in LFS) to
                use. This is done by way of sanitizing various C header files
                that are shipped in the Linux kernel source tarball.
              </p>
              <p>
                Make sure there are no stale files embedded in the package:
              </p>
              <pre class="userinput"><kbd class="command">make mrproper</kbd>
</pre>
              <p>
                Now extract the user-visible kernel headers from the source.
                They are placed in an intermediate local directory and copied
                to the needed location because the extraction process removes
                any existing files in the target directory.
              </p>
              <pre class="userinput"><kbd class="command">make INSTALL_HDR_PATH=dest headers_install
</kbd><kbd class="command">cp -rv dest/include/* /tools/include</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-linux-headers" title="6.7.2.&nbsp;Contents of Linux API Headers">Section&nbsp;6.7.2,
                “Contents of Linux API Headers.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-glibc" name="ch-tools-glibc"></a>5.7.&nbsp;Glibc-2.25
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Glibc package contains the main C library. This library
                provides the basic routines for allocating memory, searching
                directories, opening and closing files, reading and writing
                files, string handling, pattern matching, arithmetic, and so
                on.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">4.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">753 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.7.1. Installation of Glibc
              </h3>
              <p>
                The Glibc documentation recommends building Glibc in a
                dedicated build directory:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <p>
                Next, prepare Glibc for compilation:
              </p>
              <pre class="userinput"><kbd class="command">../configure                             \
      --prefix=/tools                    \
      --host=$LFS_TGT                    \
      --build=$(../scripts/config.guess) \
      --enable-kernel=2.6.32             \
      --with-headers=/tools/include      \
      libc_cv_forced_unwind=yes          \
      libc_cv_c_cleanup=yes</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--host=$LFS_TGT,
                    --build=$(../scripts/config.guess)</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      The combined effect of these switches is that Glibc's
                      build system configures itself to cross-compile, using
                      the cross-linker and cross-compiler in <code class="filename">/tools</code>.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--enable-kernel=2.6.32</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells Glibc to compile the library with support
                      for 2.6.32 and later Linux kernels. Workarounds for
                      older kernels are not enabled.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-headers=/tools/include</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells Glibc to compile itself against the headers
                      recently installed to the tools directory, so that it
                      knows exactly what features the kernel has and can
                      optimize itself accordingly.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>libc_cv_forced_unwind=yes</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      The linker installed during <a class="xref" href="#ch-tools-binutils-pass1" title="5.4.&nbsp;Binutils-2.27 - Pass 1">Section&nbsp;5.4,
                      “Binutils-2.27 - Pass 1”</a> was
                      cross-compiled and as such cannot be used until Glibc
                      has been installed. This means that the configure test
                      for force-unwind support will fail, as it relies on a
                      working linker. The libc_cv_forced_unwind=yes variable
                      is passed in order to inform <span class="command"><strong>configure</strong></span> that
                      force-unwind support is available without it having to
                      run the test.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>libc_cv_c_cleanup=yes</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Similarly, we pass libc_cv_c_cleanup=yes through to the
                      <span class="command"><strong>configure</strong></span>
                      script so that the test is skipped and C cleanup
                      handling support is configured.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                During this stage the following warning might appear:
              </p>
              <div class="blockquote">
                <blockquote class="blockquote">
                  <pre class="screen"><code class="computeroutput">configure: WARNING:
*** These auxiliary programs are missing or
*** incompatible versions: msgfmt
*** some features will be disabled.
*** Check the INSTALL file for required versions.</code>
</pre>
                </blockquote>
              </div>
              <p>
                The missing or incompatible <span class="command"><strong>msgfmt</strong></span> program is generally
                harmless. This <span class="command"><strong>msgfmt</strong></span> program is part of
                the Gettext package which the host distribution should
                provide.
              </p>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  There have been reports that this package may fail when
                  building as a "parallel make". If this occurs, rerun the
                  make command with a "-j1" option.
                </p>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <div class="admon caution">
                <h3>
                  Caution
                </h3>
                <p>
                  At this point, it is imperative to stop and ensure that the
                  basic functions (compiling and linking) of the new
                  toolchain are working as expected. To perform a sanity
                  check, run the following commands:
                </p>
                <pre class="userinput"><kbd class="command">echo 'int main(){}' &gt; dummy.c
$LFS_TGT-gcc dummy.c
readelf -l a.out | grep ': /tools'</kbd>
</pre>
                <p>
                  If everything is working correctly, there should be no
                  errors, and the output of the last command will be of the
                  form:
                </p>
                <pre class="screen"><code class="computeroutput">[Requesting program interpreter: /tools/lib/ld-linux.so.2]</code>
</pre>
                <p>
                  Note that for 64-bit machines, the interpreter name will be
                  <code class="filename">/tools/lib64/ld-linux-x86-64.so.2</code>.
                </p>
                <p>
                  If the output is not shown as above or there was no output
                  at all, then something is wrong. Investigate and retrace
                  the steps to find out where the problem is and correct it.
                  This issue must be resolved before continuing on.
                </p>
                <p>
                  Once all is well, clean up the test files:
                </p>
                <pre class="userinput"><kbd class="command">rm -v dummy.c a.out</kbd>
</pre>
              </div>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  Building Binutils in the section after next will serve as
                  an additional check that the toolchain has been built
                  properly. If Binutils fails to build, it is an indication
                  that something has gone wrong with the previous Binutils,
                  GCC, or Glibc installations.
                </p>
              </div>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-glibc" title="6.9.3.&nbsp;Contents of Glibc">Section&nbsp;6.9.3,
                “Contents of Glibc.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-libstdcpp" name="ch-tools-libstdcpp"></a>5.8.&nbsp;Libstdc++-6.3.0
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                Libstdc++ is the standard C++ library. It is needed for the
                correct operation of the g++ compiler.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.4 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">898 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.8.1. Installation of Target Libstdc++
              </h3>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  <span class="application">Libstdc++</span> is part of the
                  GCC sources. You should first unpack the GCC tarball and
                  change to the <code class="filename">gcc-6.3.0</code>
                  directory.
                </p>
              </div>
              <p>
                Create a separate build directory for Libstdc++ and enter it:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <p>
                Prepare Libstdc++ for compilation:
              </p>
              <pre class="userinput"><kbd class="command">../libstdc++-v3/configure           \
    --host=$LFS_TGT                 \
    --prefix=/tools                 \
    --disable-multilib              \
    --disable-nls                   \
    --disable-libstdcxx-threads     \
    --disable-libstdcxx-pch         \
    --with-gxx-include-dir=/tools/$LFS_TGT/include/c++/6.3.0</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--host=...</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Indicates to use the cross compiler we have just built
                      instead of the one in <code class="filename">/usr/bin</code>.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-libstdcxx-threads</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Since we have not yet built the C threads library, the
                      C++ one cannot be built either.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-libstdcxx-pch</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This switch prevents the installation of precompiled
                      include files, which are not needed at this stage.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-gxx-include-dir=/tools/$LFS_TGT/include/c++/6.3.0</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This is the location where the standard include files
                      are searched by the C++ compiler. In a normal build,
                      this information is automatically passed to the
                      Libstdc++ <span class="command"><strong>configure</strong></span> options
                      from the top level directory. In our case, this
                      information must be explicitly given.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile libstdc++ by running:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the library:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gcc" title="6.17.2.&nbsp;Contents of GCC">Section&nbsp;6.17.2,
                “Contents of GCC.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-binutils-pass2" name="ch-tools-binutils-pass2"></a>5.9.&nbsp;Binutils-2.27 -
                    Pass 2
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Binutils package contains a linker, an assembler, and
                other tools for handling object files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">1.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">533 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.9.1. Installation of Binutils
              </h3>
              <p>
                Create a separate build directory again:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <p>
                Prepare Binutils for compilation:
              </p>
              <pre class="userinput"><kbd class="command">CC=$LFS_TGT-gcc                \
AR=$LFS_TGT-ar                 \
RANLIB=$LFS_TGT-ranlib         \
../configure                   \
    --prefix=/tools            \
    --disable-nls              \
    --disable-werror           \
    --with-lib-path=/tools/lib \
    --with-sysroot</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the new configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>CC=$LFS_TGT-gcc AR=$LFS_TGT-ar
                    RANLIB=$LFS_TGT-ranlib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Because this is really a native build of Binutils,
                      setting these variables ensures that the build system
                      uses the cross-compiler and associated tools instead of
                      the ones on the host system.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-lib-path=/tools/lib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells the configure script to specify the library
                      search path during the compilation of Binutils,
                      resulting in <code class="filename">/tools/lib</code>
                      being passed to the linker. This prevents the linker
                      from searching through library directories on the host.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-sysroot</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      The sysroot feature enables the linker to find shared
                      objects which are required by other shared objects
                      explicitly included on the linker's command line.
                      Without this, some packages may not build successfully
                      on some hosts.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <p>
                Now prepare the linker for the <span class="quote">“<span class="quote">Re-adjusting</span>”</span> phase in the next
                chapter:
              </p>
              <pre class="userinput"><kbd class="command">make -C ld clean
make -C ld LIB_PATH=/usr/lib:/lib
cp -v ld/ld-new /tools/bin</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the make parameters:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>-C ld
                    clean</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells the make program to remove all compiled
                      files in the <code class="filename">ld</code>
                      subdirectory.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>-C ld
                    LIB_PATH=/usr/lib:/lib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This option rebuilds everything in the <code class="filename">ld</code> subdirectory. Specifying the
                      <code class="envar">LIB_PATH</code> Makefile variable
                      on the command line allows us to override the default
                      value of the temporary tools and point it to the proper
                      final path. The value of this variable specifies the
                      linker's default library search path. This preparation
                      is used in the next chapter.
                    </p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-binutils" title="6.13.2.&nbsp;Contents of Binutils">Section&nbsp;6.13.2,
                “Contents of Binutils.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-gcc-pass2" name="ch-tools-gcc-pass2"></a>5.10.&nbsp;GCC-6.3.0 - Pass 2
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The GCC package contains the GNU compiler collection, which
                includes the C and C++ compilers.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">11 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">2.9 GB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.10.1. Installation of GCC
              </h3>
              <p>
                Our first build of GCC has installed a couple of internal
                system headers. Normally one of them, <code class="filename">limits.h</code>, will in turn include the
                corresponding system <code class="filename">limits.h</code>
                header, in this case, <code class="filename">/tools/include/limits.h</code>. However, at the
                time of the first build of gcc <code class="filename">/tools/include/limits.h</code> did not exist, so
                the internal header that GCC installed is a partial,
                self-contained file and does not include the extended
                features of the system header. This was adequate for building
                the temporary libc, but this build of GCC now requires the
                full internal header. Create a full version of the internal
                header using a command that is identical to what the GCC
                build system does in normal circumstances:
              </p>
              <pre class="userinput"><kbd class="command">cat gcc/limitx.h gcc/glimits.h gcc/limity.h &gt; \
  `dirname $($LFS_TGT-gcc -print-libgcc-file-name)`/include-fixed/limits.h</kbd>
</pre>
              <p>
                Once again, change the location of GCC's default dynamic
                linker to use the one installed in <code class="filename">/tools</code>.
              </p>
              <pre class="userinput"><kbd class="command">for file in gcc/config/{linux,i386/linux{,64}}.h
do
  cp -uv $file{,.orig}
  sed -e 's@/lib\(64\)\?\(32\)\?/ld@/tools&amp;@g' \
      -e 's@/usr@/tools@g' $file.orig &gt; $file
  echo '
#undef STANDARD_STARTFILE_PREFIX_1
#undef STANDARD_STARTFILE_PREFIX_2
#define STANDARD_STARTFILE_PREFIX_1 "/tools/lib/"
#define STANDARD_STARTFILE_PREFIX_2 ""' &gt;&gt; $file
  touch $file.orig
done</kbd>
</pre>
              <p>
                If building on x86_64, change the default directory name for
                64-bit libraries to <span class="quote">“<span class="quote">lib</span>”</span>:
              </p>
              <pre class="userinput"><kbd class="command">case $(uname -m) in
  x86_64)
    sed -e '/m64=/s/lib64/lib/' \
        -i.orig gcc/config/i386/t-linux64
  ;;
esac</kbd>
</pre>
              <p>
                As in the first build of GCC it requires the GMP, MPFR and
                MPC packages. Unpack the tarballs and move them into the
                required directory names:
              </p>
              <pre class="userinput"><kbd class="command">tar -xf ../mpfr-3.1.5.tar.xz
mv -v mpfr-3.1.5 mpfr
tar -xf ../gmp-6.1.2.tar.xz
mv -v gmp-6.1.2 gmp
tar -xf ../mpc-1.0.3.tar.gz
mv -v mpc-1.0.3 mpc</kbd>
</pre>
              <p>
                Create a separate build directory again:
              </p>
              <pre class="userinput"><kbd class="command">mkdir -v build
cd       build</kbd>
</pre>
              <p>
                Before starting to build GCC, remember to unset any
                environment variables that override the default optimization
                flags.
              </p>
              <p>
                Now prepare GCC for compilation:
              </p>
              <pre class="userinput"><kbd class="command">CC=$LFS_TGT-gcc                                    \
CXX=$LFS_TGT-g++                                   \
AR=$LFS_TGT-ar                                     \
RANLIB=$LFS_TGT-ranlib                             \
../configure                                       \
    --prefix=/tools                                \
    --with-local-prefix=/tools                     \
    --with-native-system-header-dir=/tools/include \
    --enable-languages=c,c++                       \
    --disable-libstdcxx-pch                        \
    --disable-multilib                             \
    --disable-bootstrap                            \
    --disable-libgomp</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the new configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--enable-languages=c,c++</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This option ensures that both the C and C++ compilers
                      are built.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-libstdcxx-pch</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      Do not build the pre-compiled header (PCH) for
                      <code class="filename">libstdc++</code>. It takes up a
                      lot of space, and we have no use for it.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-bootstrap</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      For native builds of GCC, the default is to do a
                      "bootstrap" build. This does not just compile GCC, but
                      compiles it several times. It uses the programs
                      compiled in a first round to compile itself a second
                      time, and then again a third time. The second and third
                      iterations are compared to make sure it can reproduce
                      itself flawlessly. This also implies that it was
                      compiled correctly. However, the LFS build method
                      should provide a solid compiler without the need to
                      bootstrap each time.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <p>
                As a finishing touch, create a symlink. Many programs and
                scripts run <span class="command"><strong>cc</strong></span>
                instead of <span class="command"><strong>gcc</strong></span>,
                which is used to keep programs generic and therefore usable
                on all kinds of UNIX systems where the GNU C compiler is not
                always installed. Running <span class="command"><strong>cc</strong></span> leaves the system
                administrator free to decide which C compiler to install:
              </p>
              <pre class="userinput"><kbd class="command">ln -sv gcc /tools/bin/cc</kbd>
</pre>
              <div class="admon caution">
                <h3>
                  Caution
                </h3>
                <p>
                  At this point, it is imperative to stop and ensure that the
                  basic functions (compiling and linking) of the new
                  toolchain are working as expected. To perform a sanity
                  check, run the following commands:
                </p>
                <pre class="userinput"><kbd class="command">echo 'int main(){}' &gt; dummy.c
cc dummy.c
readelf -l a.out | grep ': /tools'</kbd>
</pre>
                <p>
                  If everything is working correctly, there should be no
                  errors, and the output of the last command will be of the
                  form:
                </p>
                <pre class="screen"><code class="computeroutput">[Requesting program interpreter: /tools/lib/ld-linux.so.2]</code>
</pre>
                <p>
                  Note that <code class="filename">/tools/lib</code>, or
                  <code class="filename">/tools/lib64</code> for 64-bit
                  machines appears as the prefix of the dynamic linker.
                </p>
                <p>
                  If the output is not shown as above or there was no output
                  at all, then something is wrong. Investigate and retrace
                  the steps to find out where the problem is and correct it.
                  This issue must be resolved before continuing on. First,
                  perform the sanity check again, using <span class="command"><strong>gcc</strong></span> instead of
                  <span class="command"><strong>cc</strong></span>. If this
                  works, then the <code class="filename">/tools/bin/cc</code>
                  symlink is missing. Install the symlink as per above. Next,
                  ensure that the <code class="envar">PATH</code> is correct.
                  This can be checked by running <span class="command"><strong>echo $PATH</strong></span> and verifying
                  that <code class="filename">/tools/bin</code> is at the
                  head of the list. If the <code class="envar">PATH</code> is
                  wrong it could mean that you are not logged in as user
                  <code class="systemitem">lfs</code> or that something went
                  wrong back in <a class="xref" href="#ch-tools-settingenviron" title="4.4.&nbsp;Setting Up the Environment">Section&nbsp;4.4,
                  “Setting Up the Environment.”</a>
                </p>
                <p>
                  Once all is well, clean up the test files:
                </p>
                <pre class="userinput"><kbd class="command">rm -v dummy.c a.out</kbd>
</pre>
              </div>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gcc" title="6.17.2.&nbsp;Contents of GCC">Section&nbsp;6.17.2,
                “Contents of GCC.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-tcl" name="ch-tools-tcl"></a>5.11.&nbsp;Tcl-core-8.6.6
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Tcl package contains the Tool Command Language.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.4 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">40 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.11.1. Installation of Tcl-core
              </h3>
              <p>
                This package and the next three (Expect, DejaGNU, and Check)
                are installed to support running the test suites for GCC and
                Binutils and other packages. Installing four packages for
                testing purposes may seem excessive, but it is very
                reassuring, if not essential, to know that the most important
                tools are working properly. Even if the test suites are not
                run in this chapter (they are not mandatory), these packages
                are required to run the test suites in <a class="xref" href="#chapter-building-system" title="Chapter&nbsp;6.&nbsp;Installing Basic System Software">Chapter
                6</a>.
              </p>
              <p>
                Note that the Tcl package used here is a minimal version
                needed to run the LFS tests. For the full package, see the
                <a class="ulink" href="http://www.linuxfromscratch.org/blfs/view/8.0/general/tcl.html">
                BLFS Tcl procedures</a>.
              </p>
              <p>
                Prepare Tcl for compilation:
              </p>
              <pre class="userinput"><kbd class="command">cd unix
./configure --prefix=/tools</kbd>
</pre>
              <p>
                Build the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Tcl test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">TZ=UTC make test</kbd>
</pre>
              <p>
                The Tcl test suite may experience failures under certain host
                conditions that are not fully understood. Therefore, test
                suite failures here are not surprising, and are not
                considered critical. The <em class="parameter"><code>TZ=UTC</code></em> parameter sets the time
                zone to Coordinated Universal Time (UTC), but only for the
                duration of the test suite run. This ensures that the clock
                tests are exercised correctly. Details on the <code class="envar">TZ</code> environment variable are provided in
                <a class="xref" href="#chapter-bootscripts" title="Chapter&nbsp;7.&nbsp;System Configuration">Chapter 7</a>.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <p>
                Make the installed library writable so debugging symbols can
                be removed later:
              </p>
              <pre class="userinput"><kbd class="command">chmod -v u+w /tools/lib/libtcl8.6.so</kbd>
</pre>
              <p>
                Install Tcl's headers. The next package, Expect, requires
                them to build.
              </p>
              <pre class="userinput"><kbd class="command">make install-private-headers</kbd>
</pre>
              <p>
                Now make a necessary symbolic link:
              </p>
              <pre class="userinput"><kbd class="command">ln -sv tclsh8.6 /tools/bin/tclsh</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="contents-tcl" name="contents-tcl"></a>5.11.2. Contents
                of Tcl-core
              </h3>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Installed programs:</strong>
                    <span class="segbody">tclsh (link to tclsh8.6) and
                    tclsh8.6</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Installed library:</strong>
                    <span class="segbody">libtcl8.6.so,
                    libtclstub8.6.a</span>
                  </div>
                </div>
              </div>
              <div class="variablelist">
                <h4>
                  <a id="idp47458785361664" name="idp47458785361664"></a>Short Descriptions
                </h4>
                <table class="variablelist" border="0">
                  <colgroup>
                    <col valign="top" align="left">
                    <col>
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>
                        <p>
                          <a id="tclsh8.6" name="tclsh8.6"></a><span class="term"><span class="command"><strong>tclsh8.6</strong></span></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          The Tcl command shell
                        </p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>
                          <a id="tclsh" name="tclsh"></a><span class="term"><span class="command"><strong>tclsh</strong></span></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          A link to tclsh8.6
                        </p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>
                          <a id="libtcl8.6.so" name="libtcl8.6.so"></a><span class="term"><code class="filename">libtcl8.6.so</code></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          The Tcl library
                        </p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>
                          <a id="libtclstub8.6.a" name="libtclstub8.6.a"></a><span class="term"><code class="filename">libtclstub8.6.a</code></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          The Tcl Stub library
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-expect" name="ch-tools-expect"></a>5.12.&nbsp;Expect-5.45
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Expect package contains a program for carrying out
                scripted dialogues with other interactive programs.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">4.3 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.12.1. Installation of Expect
              </h3>
              <p>
                First, force Expect's configure script to use <code class="filename">/bin/stty</code> instead of a <code class="filename">/usr/local/bin/stty</code> it may find on the host
                system. This will ensure that our test suite tools remain
                sane for the final builds of our toolchain:
              </p>
              <pre class="userinput"><kbd class="command">cp -v configure{,.orig}
sed 's:/usr/local/bin:/bin:' configure.orig &gt; configure</kbd>
</pre>
              <p>
                Now prepare Expect for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools       \
            --with-tcl=/tools/lib \
            --with-tclinclude=/tools/include</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-tcl=/tools/lib</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This ensures that the configure script finds the Tcl
                      installation in the temporary tools location instead of
                      possibly locating an existing one on the host system.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--with-tclinclude=/tools/include</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This explicitly tells Expect where to find Tcl's
                      internal headers. Using this option avoids conditions
                      where <span class="command"><strong>configure</strong></span> fails
                      because it cannot automatically discover the location
                      of Tcl's headers.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Build the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Expect test suite anyway, issue
                the following command:
              </p>
              <pre class="userinput"><kbd class="command">make test</kbd>
</pre>
              <p>
                Note that the Expect test suite is known to experience
                failures under certain host conditions that are not within
                our control. Therefore, test suite failures here are not
                surprising and are not considered critical.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make SCRIPTS="" install</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the make parameter:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>SCRIPTS=""</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This prevents installation of the supplementary Expect
                      scripts, which are not needed.
                    </p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="contents-expect" name="contents-expect"></a>5.12.2.
                Contents of Expect
              </h3>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Installed program:</strong>
                    <span class="segbody">expect</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Installed library:</strong>
                    <span class="segbody">libexpect-5.45.so</span>
                  </div>
                </div>
              </div>
              <div class="variablelist">
                <h4>
                  <a id="idp47458785410816" name="idp47458785410816"></a>Short Descriptions
                </h4>
                <table class="variablelist" border="0">
                  <colgroup>
                    <col valign="top" align="left">
                    <col>
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>
                        <p>
                          <a id="expect" name="expect"></a><span class="term"><span class="command"><strong>expect</strong></span></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          Communicates with other interactive programs
                          according to a script
                        </p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>
                          <a id="libexpect" name="libexpect"></a><span class="term"><code class="filename">libexpect-5.45.so</code></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          Contains functions that allow Expect to be used as
                          a Tcl extension or to be used directly from C or
                          C++ (without Tcl)
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-dejagnu" name="ch-tools-dejagnu"></a>5.13.&nbsp;DejaGNU-1.6
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The DejaGNU package contains a framework for testing other
                programs.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">less than 0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">3.2 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.13.1. Installation of DejaGNU
              </h3>
              <p>
                Prepare DejaGNU for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Build and install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <p>
                To test the results, issue:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="contents-dejagnu" name="contents-dejagnu"></a>5.13.2.
                Contents of DejaGNU
              </h3>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Installed program:</strong>
                    <span class="segbody">runtest</span>
                  </div>
                </div>
              </div>
              <div class="variablelist">
                <h4>
                  <a id="idp47458785437632" name="idp47458785437632"></a>Short Descriptions
                </h4>
                <table class="variablelist" border="0">
                  <colgroup>
                    <col valign="top" align="left">
                    <col>
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>
                        <p>
                          <a id="runtest" name="runtest"></a><span class="term"><span class="command"><strong>runtest</strong></span></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          A wrapper script that locates the proper
                          <span class="command"><strong>expect</strong></span> shell and
                          then runs DejaGNU
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-check" name="ch-tools-check"></a>5.14.&nbsp;Check-0.11.0
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                Check is a unit testing framework for C.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">11 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.14.1. Installation of Check
              </h3>
              <p>
                Prepare Check for compilation:
              </p>
              <pre class="userinput"><kbd class="command">PKG_CONFIG= ./configure --prefix=/tools</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure parameter:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>PKG_CONFIG=</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells the configure script to ignore any
                      pkg-config options that may cause the system to try to
                      link with libraries not in the <code class="filename">/tools</code> directory.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Build the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Check test suite anyway, issue
                the following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Note that the Check test suite may take a relatively long (up
                to 4 SBU) time.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="contents-check" name="contents-check"></a>5.14.2.
                Contents of Check
              </h3>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Installed program:</strong>
                    <span class="segbody">checkmk</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Installed library:</strong>
                    <span class="segbody">libcheck.{a,so}</span>
                  </div>
                </div>
              </div>
              <div class="variablelist">
                <h4>
                  <a id="idp47458785467760" name="idp47458785467760"></a>Short Descriptions
                </h4>
                <table class="variablelist" border="0">
                  <colgroup>
                    <col valign="top" align="left">
                    <col>
                  </colgroup>
                  <tbody>
                    <tr>
                      <td>
                        <p>
                          <a id="checkmk" name="checkmk"></a><span class="term"><span class="command"><strong>checkmk</strong></span></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          Awk script for generating C unit tests for use with
                          the Check unit testing framework
                        </p>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <p>
                          <a id="libcheck" name="libcheck"></a><span class="term"><code class="filename">libcheck.{a,so}</code></span>
                        </p>
                      </td>
                      <td>
                        <p>
                          Contains functions that allow Check to be called
                          from a test program
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-ncurses" name="ch-tools-ncurses"></a>5.15.&nbsp;Ncurses-6.0
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Ncurses package contains libraries for
                terminal-independent handling of character screens.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.5 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">38 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.15.1. Installation of Ncurses
              </h3>
              <p>
                First, ensure that <span class="command"><strong>gawk</strong></span> is found first during
                configuration:
              </p>
              <pre class="userinput"><kbd class="command">sed -i s/mawk// configure</kbd>
</pre>
              <p>
                Prepare Ncurses for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools \
            --with-shared   \
            --without-debug \
            --without-ada   \
            --enable-widec  \
            --enable-overwrite</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-ada</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This ensures that Ncurses does not build support for
                      the Ada compiler which may be present on the host but
                      will not be available once we enter the <span class="command"><strong>chroot</strong></span> environment.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--enable-overwrite</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This tells Ncurses to install its header files into
                      <code class="filename">/tools/include</code>, instead
                      of <code class="filename">/tools/include/ncurses</code>, to ensure
                      that other packages can find the Ncurses headers
                      successfully.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--enable-widec</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This switch causes wide-character libraries (e.g.,
                      <code class="filename">libncursesw.so.6.0</code>) to be
                      built instead of normal ones (e.g., <code class="filename">libncurses.so.6.0</code>). These
                      wide-character libraries are usable in both multibyte
                      and traditional 8-bit locales, while normal libraries
                      work properly only in 8-bit locales. Wide-character and
                      normal libraries are source-compatible, but not
                      binary-compatible.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                This package has a test suite, but it can only be run after
                the package has been installed. The tests reside in the
                <code class="filename">test/</code> directory. See the
                <code class="filename">README</code> file in that directory
                for further details.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-ncurses" title="6.20.2.&nbsp;Contents of Ncurses">Section&nbsp;6.20.2,
                “Contents of Ncurses.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-bash" name="ch-tools-bash"></a>5.16.&nbsp;Bash-4.4
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Bash package contains the Bourne-Again SHell.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.4 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">61 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.16.1. Installation of Bash
              </h3>
              <p>
                Prepare Bash for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools --without-bash-malloc</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-bash-malloc</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This option turns off the use of Bash's memory
                      allocation (<code class="function">malloc</code>)
                      function which is known to cause segmentation faults.
                      By turning this option off, Bash will use the
                      <code class="function">malloc</code> functions from
                      Glibc which are more stable.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Bash test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make tests</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
              <p>
                Make a link for the programs that use <span class="command"><strong>sh</strong></span> for a shell:
              </p>
              <pre class="userinput"><kbd class="command">ln -sv bash /tools/bin/sh</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-bash" title="6.33.2.&nbsp;Contents of Bash">Section&nbsp;6.33.2,
                “Contents of Bash.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-bison" name="ch-tools-bison"></a>5.17.&nbsp;Bison-3.0.4
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Bison package contains a parser generator.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.3 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">32 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.17.1. Installation of Bison
              </h3>
              <p>
                Prepare Bison for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                To test the results, issue:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-bison" title="6.29.2.&nbsp;Contents of Bison">Section&nbsp;6.29.2,
                “Contents of Bison.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-bzip2" name="ch-tools-bzip2"></a>5.18.&nbsp;Bzip2-1.0.6
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Bzip2 package contains programs for compressing and
                decompressing files. Compressing text files with <span class="command"><strong>bzip2</strong></span> yields a much better
                compression percentage than with the traditional <span class="command"><strong>gzip</strong></span>.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">less than 0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">5.2 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.18.1. Installation of Bzip2
              </h3>
              <p>
                The Bzip2 package does not contain a <span class="command"><strong>configure</strong></span> script. Compile
                and test it with:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make PREFIX=/tools install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-bzip2" title="6.18.2.&nbsp;Contents of Bzip2">Section&nbsp;6.18.2,
                “Contents of Bzip2.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-coreutils" name="ch-tools-coreutils"></a>5.19.&nbsp;Coreutils-8.26
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Coreutils package contains utilities for showing and
                setting the basic system characteristics.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.6 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">136 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.19.1. Installation of Coreutils
              </h3>
              <p>
                Prepare Coreutils for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools --enable-install-program=hostname</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure options:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><code class="envar">--enable-install-program=hostname</code></span>
                  </dt>
                  <dd>
                    <p>
                      This enables the <span class="command"><strong>hostname</strong></span> binary to be
                      built and installed – it is disabled by default
                      but is required by the Perl test suite.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Coreutils test suite anyway,
                issue the following command:
              </p>
              <pre class="userinput"><kbd class="command">make RUN_EXPENSIVE_TESTS=yes check</kbd>
</pre>
              <p>
                The <em class="parameter"><code>RUN_EXPENSIVE_TESTS=yes</code></em>
                parameter tells the test suite to run several additional
                tests that are considered relatively expensive (in terms of
                CPU power and memory usage) on some platforms, but generally
                are not a problem on Linux.
              </p>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-coreutils" title="6.50.2.&nbsp;Contents of Coreutils">Section&nbsp;6.50.2,
                “Contents of Coreutils.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-diffutils" name="ch-tools-diffutils"></a>5.20.&nbsp;Diffutils-3.5
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Diffutils package contains programs that show the
                differences between files or directories.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">22 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.20.1. Installation of Diffutils
              </h3>
              <p>
                Prepare Diffutils for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Diffutils test suite anyway,
                issue the following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-diffutils" title="6.51.2.&nbsp;Contents of Diffutils">Section&nbsp;6.51.2,
                “Contents of Diffutils.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-file" name="ch-tools-file"></a>5.21.&nbsp;File-5.30
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The File package contains a utility for determining the type
                of a given file or files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">16 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.21.1. Installation of File
              </h3>
              <p>
                Prepare File for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the File test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-file" title="6.12.2.&nbsp;Contents of File">Section&nbsp;6.12.2,
                “Contents of File.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-findutils" name="ch-tools-findutils"></a>5.22.&nbsp;Findutils-4.6.0
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Findutils package contains programs to find files. These
                programs are provided to recursively search through a
                directory tree and to create, maintain, and search a database
                (often faster than the recursive find, but unreliable if the
                database has not been recently updated).
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.3 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">35 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.22.1. Installation of Findutils
              </h3>
              <p>
                Prepare Findutils for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Findutils test suite anyway,
                issue the following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-findutils" title="6.53.2.&nbsp;Contents of Findutils">Section&nbsp;6.53.2,
                “Contents of Findutils.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-gawk" name="ch-tools-gawk"></a>5.23.&nbsp;Gawk-4.1.4
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Gawk package contains programs for manipulating text
                files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">35 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.23.1. Installation of Gawk
              </h3>
              <p>
                Prepare Gawk for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Gawk test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gawk" title="6.52.2.&nbsp;Contents of Gawk">Section&nbsp;6.52.2,
                “Contents of Gawk.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-gettext" name="ch-tools-gettext"></a>5.24.&nbsp;Gettext-0.19.8.1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Gettext package contains utilities for
                internationalization and localization. These allow programs
                to be compiled with NLS (Native Language Support), enabling
                them to output messages in the user's native language.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.9 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">164 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.24.1. Installation of Gettext
              </h3>
              <p>
                For our temporary set of tools, we only need to build and
                install three programs from Gettext.
              </p>
              <p>
                Prepare Gettext for compilation:
              </p>
              <pre class="userinput"><kbd class="command">cd gettext-tools
EMACS="no" ./configure --prefix=/tools --disable-shared</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure option:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>EMACS="no"</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This prevents the configure script from determining
                      where to install Emacs Lisp files as the test is known
                      to hang on some hosts.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-shared</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      We do not need to install any of the shared Gettext
                      libraries at this time, therefore there is no need to
                      build them.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make -C gnulib-lib
make -C intl pluralx.c
make -C src msgfmt
make -C src msgmerge
make -C src xgettext</kbd>
</pre>
              <p>
                As only three programs have been compiled, it is not possible
                to run the test suite without compiling additional support
                libraries from the Gettext package. It is therefore not
                recommended to attempt to run the test suite at this stage.
              </p>
              <p>
                Install the <span class="command"><strong>msgfmt</strong></span>, <span class="command"><strong>msgmerge</strong></span> and <span class="command"><strong>xgettext</strong></span> programs:
              </p>
              <pre class="userinput"><kbd class="command">cp -v src/{msgfmt,msgmerge,xgettext} /tools/bin</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gettext" title="6.47.2.&nbsp;Contents of Gettext">Section&nbsp;6.47.2,
                “Contents of Gettext.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-grep" name="ch-tools-grep"></a>5.25.&nbsp;Grep-3.0
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Grep package contains programs for searching through
                files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">19 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.25.1. Installation of Grep
              </h3>
              <p>
                Prepare Grep for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Grep test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-grep" title="6.31.2.&nbsp;Contents of Grep">Section&nbsp;6.31.2,
                “Contents of Grep.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-gzip" name="ch-tools-gzip"></a>5.26.&nbsp;Gzip-1.8
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Gzip package contains programs for compressing and
                decompressing files.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">9 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.26.1. Installation of Gzip
              </h3>
              <p>
                Prepare Gzip for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Gzip test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-gzip" title="6.57.2.&nbsp;Contents of Gzip">Section&nbsp;6.57.2,
                “Contents of Gzip.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-m4" name="ch-tools-m4"></a>5.27.&nbsp;M4-1.4.18
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The M4 package contains a macro processor.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">19 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.27.1. Installation of M4
              </h3>
              <p>
                Prepare M4 for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the M4 test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-m4" title="6.28.2.&nbsp;Contents of M4">Section&nbsp;6.28.2,
                “Contents of M4.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-make" name="ch-tools-make"></a>5.28.&nbsp;Make-4.2.1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Make package contains a program for compiling packages.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">12.5 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.28.1. Installation of Make
              </h3>
              <p>
                Prepare Make for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools --without-guile</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure option:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-guile</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This ensures that Make-4.2.1 won't link against Guile
                      libraries, which may be present on the host system, but
                      won't be available within the <span class="command"><strong>chroot</strong></span> environment in
                      the next chapter.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Make test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-make" title="6.61.2.&nbsp;Contents of Make">Section&nbsp;6.61.2,
                “Contents of Make.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-patch" name="ch-tools-patch"></a>5.29.&nbsp;Patch-2.7.5
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Patch package contains a program for modifying or
                creating files by applying a <span class="quote">“<span class="quote">patch</span>”</span>
                file typically created by the <span class="command"><strong>diff</strong></span> program.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">11 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.29.1. Installation of Patch
              </h3>
              <p>
                Prepare Patch for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Patch test suite anyway, issue
                the following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-patch" title="6.62.2.&nbsp;Contents of Patch">Section&nbsp;6.62.2,
                “Contents of Patch.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-perl" name="ch-tools-perl"></a>5.30.&nbsp;Perl-5.24.1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Perl package contains the Practical Extraction and Report
                Language.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">1.3 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">249 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.30.1. Installation of Perl
              </h3>
              <p>
                Prepare Perl for compilation:
              </p>
              <pre class="userinput"><kbd class="command">sh Configure -des -Dprefix=/tools -Dlibs=-lm</kbd>
</pre>
              <p>
                Build the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Although Perl comes with a test suite, it would be better to
                wait until it is installed in the next chapter.
              </p>
              <p>
                Only a few of the utilities and libraries need to be
                installed at this time:
              </p>
              <pre class="userinput"><kbd class="command">cp -v perl cpan/podlators/scripts/pod2man /tools/bin
mkdir -pv /tools/lib/perl5/5.24.1
cp -Rv lib/* /tools/lib/perl5/5.24.1</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-perl" title="6.40.2.&nbsp;Contents of Perl">Section&nbsp;6.40.2,
                “Contents of Perl.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-sed" name="ch-tools-sed"></a>5.31.&nbsp;Sed-4.4
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Sed package contains a stream editor.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.1 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">16 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.31.1. Installation of Sed
              </h3>
              <p>
                Prepare Sed for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Sed test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-sed" title="6.24.2.&nbsp;Contents of Sed">Section&nbsp;6.24.2,
                “Contents of Sed.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-tar" name="ch-tools-tar"></a>5.32.&nbsp;Tar-1.29
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Tar package contains an archiving program.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.3 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">33 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.32.1. Installation of Tar
              </h3>
              <p>
                Prepare Tar for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Tar test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-tar" title="6.68.2.&nbsp;Contents of Tar">Section&nbsp;6.68.2,
                “Contents of Tar.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-texinfo" name="ch-tools-texinfo"></a>5.33.&nbsp;Texinfo-6.3
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Texinfo package contains programs for reading, writing,
                and converting info pages.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">99 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.33.1. Installation of Texinfo
              </h3>
              <p>
                Prepare Texinfo for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <div class="admon note">
                <h3>
                  Note
                </h3>
                <p>
                  As part of the configure process, a test is made that
                  indicates an error for TestXS_la-TestXS.lo. This is not
                  relevant for LFS and should be ignored.
                </p>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Texinfo test suite anyway, issue
                the following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-texinfo" title="6.69.2.&nbsp;Contents of Texinfo">Section&nbsp;6.69.2,
                “Contents of Texinfo.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-util-linux" name="ch-tools-util-linux"></a>5.34.&nbsp;Util-linux-2.29.1
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Util-linux package contains miscellaneous utility
                programs.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.9 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">118 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.34.1. Installation of Util-linux
              </h3>
              <p>
                Prepare Util-linux for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools                \
            --without-python               \
            --disable-makeinstall-chown    \
            --without-systemdsystemunitdir \
            PKG_CONFIG=""</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the configure option:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-python</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This switch disables using <span class="application">Python</span> if it is installed on the
                      host system. It avoids trying to build unneeded
                      bindings.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--disable-makeinstall-chown</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This switch disables using the <span class="command"><strong>chown</strong></span> command during
                      installation. This is not needed when installing into
                      the /tools directory and avoids the necessity of
                      installing as root.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>--without-systemdsystemunitdir</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      On systems that use systemd, the package tries to
                      install a systemd specific file to a non-existent
                      directory in /tools. This switch disables the
                      unnecessary action.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><code class="envar">PKG_CONFIG=""</code></span>
                  </dt>
                  <dd>
                    <p>
                      Setting this environment variable prevents adding
                      unneeded features that may be available on the host.
                      Note that the location shown for setting this
                      environment variable is different from other LFS
                      sections where variables are set preceding the command.
                      This location is shown to demonstrate an alternative
                      way of setting an environment variable when using
                      configure.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="wrap" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-xz" name="ch-tools-xz"></a>5.35.&nbsp;Xz-5.2.3
                  </h2>
                </div>
              </div>
            </div>
            <div class="package" xml:lang="en" lang="en">
              <p>
                The Xz package contains programs for compressing and
                decompressing files. It provides capabilities for the lzma
                and the newer xz compression formats. Compressing text files
                with <span class="command"><strong>xz</strong></span> yields
                a better compression percentage than with the traditional
                <span class="command"><strong>gzip</strong></span> or
                <span class="command"><strong>bzip2</strong></span> commands.
              </p>
              <div class="segmentedlist">
                <div class="seglistitem">
                  <div class="seg">
                    <strong class="segtitle">Approximate build time:</strong>
                    <span class="segbody">0.2 SBU</span>
                  </div>
                  <div class="seg">
                    <strong class="segtitle">Required disk space:</strong>
                    <span class="segbody">16 MB</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="installation" xml:lang="en" lang="en">
              <h3 class="sect2">
                5.35.1. Installation of Xz
              </h3>
              <p>
                Prepare Xz for compilation:
              </p>
              <pre class="userinput"><kbd class="command">./configure --prefix=/tools</kbd>
</pre>
              <p>
                Compile the package:
              </p>
              <pre class="userinput"><kbd class="command">make</kbd>
</pre>
              <p>
                Compilation is now complete. As discussed earlier, running
                the test suite is not mandatory for the temporary tools here
                in this chapter. To run the Xz test suite anyway, issue the
                following command:
              </p>
              <pre class="userinput"><kbd class="command">make check</kbd>
</pre>
              <p>
                Install the package:
              </p>
              <pre class="userinput"><kbd class="command">make install</kbd>
</pre>
            </div>
            <div class="content" xml:lang="en" lang="en">
              <p>
                Details on this package are located in <a class="xref" href="#contents-xz" title="6.45.2.&nbsp;Contents of Xz">Section&nbsp;6.45.2,
                “Contents of Xz.”</a>
              </p>
            </div>
            <p class="updated">
              Last updated on
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-stripping" name="ch-tools-stripping"></a>5.36.&nbsp;Stripping
                  </h2>
                </div>
              </div>
            </div>
            <p>
              The steps in this section are optional, but if the LFS
              partition is rather small, it is beneficial to learn that
              unnecessary items can be removed. The executables and libraries
              built so far contain about 70 MB of unneeded debugging symbols.
              Remove those symbols with:
            </p>
            <pre class="userinput"><kbd class="command">strip --strip-debug /tools/lib/*
/usr/bin/strip --strip-unneeded /tools/{,s}bin/*</kbd>
</pre>
            <p>
              These commands will skip a number of files, reporting that it
              does not recognize their file format. Most of these are scripts
              instead of binaries. Also use the system strip command to
              include the strip binary in /tools.
            </p>
            <p>
              Take care <span class="emphasis"><em>not</em></span> to use
              <em class="parameter"><code>--strip-unneeded</code></em> on the
              libraries. The static ones would be destroyed and the toolchain
              packages would need to be built all over again.
            </p>
            <p>
              To save more, remove the documentation:
            </p>
            <pre class="userinput"><kbd class="command">rm -rf /tools/{,share}/{info,man,doc}</kbd>
</pre>
            <p>
              At this point, you should have at least 3 GB of free space in
              <code class="envar">$LFS</code> that can be used to build and
              install Glibc and Gcc in the next phase. If you can build and
              install Glibc, you can build and install the rest too.
            </p>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-tools-changingowner" name="ch-tools-changingowner"></a>5.37.&nbsp;Changing
                    Ownership
                  </h2>
                </div>
              </div>
            </div>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                The commands in the remainder of this book must be performed
                while logged in as user <code class="systemitem">root</code>
                and no longer as user <code class="systemitem">lfs</code>.
                Also, double check that <code class="envar">$LFS</code> is
                set in <code class="systemitem">root</code>'s environment.
              </p>
            </div>
            <p>
              Currently, the <code class="filename">$LFS/tools</code>
              directory is owned by the user <code class="systemitem">lfs</code>, a user that exists only on the host
              system. If the <code class="filename">$LFS/tools</code>
              directory is kept as is, the files are owned by a user ID
              without a corresponding account. This is dangerous because a
              user account created later could get this same user ID and
              would own the <code class="filename">$LFS/tools</code>
              directory and all the files therein, thus exposing these files
              to possible malicious manipulation.
            </p>
            <p>
              To avoid this issue, you could add the <code class="systemitem">lfs</code> user to the new LFS system later when
              creating the <code class="filename">/etc/passwd</code> file,
              taking care to assign it the same user and group IDs as on the
              host system. Better yet, change the ownership of the
              <code class="filename">$LFS/tools</code> directory to user
              <code class="systemitem">root</code> by running the following
              command:
            </p>
            <pre class="userinput"><kbd class="command">chown -R root:root $LFS/tools</kbd>
</pre>
            <p>
              Although the <code class="filename">$LFS/tools</code> directory
              can be deleted once the LFS system has been finished, it can be
              retained to build additional LFS systems <span class="emphasis"><em>of the same book version</em></span>. How best
              to backup <code class="filename">$LFS/tools</code> is a matter
              of personal preference.
            </p>
            <div class="admon caution">
              <h3>
                Caution
              </h3>
              <p>
                If you intend to keep the temporary tools for use in building
                future LFS systems, <span class="emphasis"><em>now</em></span> is the time to back them up.
                Subsequent commands in chapter 6 will alter the tools
                currently in place, rendering them useless for future builds.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="part">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title">
                <a id="part3" name="part3"></a>Part&nbsp;III.&nbsp;Building
                the LFS System
              </h1>
            </div>
          </div>
        </div>
        <div class="chapter" xml:lang="en" lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title">
                  <a id="chapter-building-system" name="chapter-building-system"></a>Chapter&nbsp;6.&nbsp;Installing
                  Basic System Software
                </h2>
              </div>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-system-introduction" name="ch-system-introduction"></a>6.1.&nbsp;Introduction
                  </h2>
                </div>
              </div>
            </div>
            <p>
              In this chapter, we enter the building site and start
              constructing the LFS system in earnest. That is, we chroot into
              the temporary mini Linux system, make a few final preparations,
              and then begin installing the packages.
            </p>
            <p>
              The installation of this software is straightforward. Although
              in many cases the installation instructions could be made
              shorter and more generic, we have opted to provide the full
              instructions for every package to minimize the possibilities
              for mistakes. The key to learning what makes a Linux system
              work is to know what each package is used for and why you (or
              the system) may need it.
            </p>
            <p>
              We do not recommend using optimizations. They can make a
              program run slightly faster, but they may also cause
              compilation difficulties and problems when running the program.
              If a package refuses to compile when using optimization, try to
              compile it without optimization and see if that fixes the
              problem. Even if the package does compile when using
              optimization, there is the risk it may have been compiled
              incorrectly because of the complex interactions between the
              code and build tools. Also note that the <code class="option">-march</code> and <code class="option">-mtune</code>
              options using values not specified in the book have not been
              tested. This may cause problems with the toolchain packages
              (Binutils, GCC and Glibc). The small potential gains achieved
              in using compiler optimizations are often outweighed by the
              risks. First-time builders of LFS are encouraged to build
              without custom optimizations. The subsequent system will still
              run very fast and be stable at the same time.
            </p>
            <p>
              The order that packages are installed in this chapter needs to
              be strictly followed to ensure that no program accidentally
              acquires a path referring to <code class="filename">/tools</code> hard-wired into it. For the same
              reason, do not compile separate packages in parallel. Compiling
              in parallel may save time (especially on dual-CPU machines),
              but it could result in a program containing a hard-wired path
              to <code class="filename">/tools</code>, which will cause the
              program to stop working when that directory is removed.
            </p>
            <p>
              Before the installation instructions, each installation page
              provides information about the package, including a concise
              description of what it contains, approximately how long it will
              take to build, and how much disk space is required during this
              building process. Following the installation instructions,
              there is a list of programs and libraries (along with brief
              descriptions of these) that the package installs.
            </p>
            <div class="admon note">
              <h3>
                Note
              </h3>
              <p>
                The SBU values and required disk space includes test suite
                data for all applicable packages in Chapter 6.
              </p>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                6.1.1. About libraries
              </h3>
              <p>
                In general, the LFS editors discourage building and
                installing static libraries. The original purpose for most
                static libraries has been made obsolete in a modern Linux
                system. In addition linking a static library into a program
                can be detrimental. If an update to the library is needed to
                remove a security problem, all programs that use the static
                library will need to be relinked to the new library. Since
                the use of static libraries is not always obvious, the
                relevant programs (and the procedures needed to do the
                linking) may not even be known.
              </p>
              <p>
                In the procedures in Chapter 6, we remove or disable
                installation of most static libraries. In a few cases,
                especially glibc and gcc, the use of static libraries remains
                essential to the general package building process. Usually
                this is done by passing a <code class="option">--disable-static</code> option to <span class="command"><strong>configure</strong></span>. In other cases,
                alternate means are needed.
              </p>
              <p>
                For a more complete discussion of libraries, see the
                discussion <a class="ulink" href="http://www.linuxfromscratch.org/blfs//view/8.0/introduction/libraries.html">
                Libraries: Static or shared?</a> in the BLFS book.
              </p>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-system-kernfs" name="ch-system-kernfs"></a>6.2.&nbsp;Preparing Virtual Kernel
                    File Systems
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Various file systems exported by the kernel are used to
              communicate to and from the kernel itself. These file systems
              are virtual in that no disk space is used for them. The content
              of the file systems resides in memory.
            </p>
            <p>
              Begin by creating directories onto which the file systems will
              be mounted:
            </p>
            <pre class="userinput"><kbd class="command">mkdir -pv $LFS/{dev,proc,sys,run}</kbd>
</pre>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                6.2.1. Creating Initial Device Nodes
              </h3>
              <p>
                When the kernel boots the system, it requires the presence of
                a few device nodes, in particular the <code class="filename">console</code> and <code class="filename">null</code> devices. The device nodes must be
                created on the hard disk so that they are available before
                <span class="command"><strong>udevd</strong></span> has been
                started, and additionally when Linux is started with
                <em class="parameter"><code>init=/bin/bash</code></em>.
                Create the devices by running the following commands:
              </p>
              <pre class="userinput"><kbd class="command">mknod -m 600 $LFS/dev/console c 5 1
mknod -m 666 $LFS/dev/null c 1 3</kbd>
</pre>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-system-bindmount" name="ch-system-bindmount"></a>6.2.2. Mounting and Populating /dev
              </h3>
              <p>
                The recommended method of populating the <code class="filename">/dev</code> directory with devices is to mount a
                virtual filesystem (such as <code class="systemitem">tmpfs</code>) on the <code class="filename">/dev</code> directory, and allow the devices to be
                created dynamically on that virtual filesystem as they are
                detected or accessed. Device creation is generally done
                during the boot process by Udev. Since this new system does
                not yet have Udev and has not yet been booted, it is
                necessary to mount and populate <code class="filename">/dev</code> manually. This is accomplished by bind
                mounting the host system's <code class="filename">/dev</code>
                directory. A bind mount is a special type of mount that
                allows you to create a mirror of a directory or mount point
                to some other location. Use the following command to achieve
                this:
              </p>
              <pre class="userinput"><kbd class="command">mount -v --bind /dev $LFS/dev</kbd>
</pre>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                <a id="ch-system-kernfsmount" name="ch-system-kernfsmount"></a>6.2.3. Mounting Virtual Kernel
                File Systems
              </h3>
              <p>
                Now mount the remaining virtual kernel filesystems:
              </p>
              <pre class="userinput"><kbd class="command">mount -vt devpts devpts $LFS/dev/pts -o gid=5,mode=620
mount -vt proc proc $LFS/proc
mount -vt sysfs sysfs $LFS/sys
mount -vt tmpfs tmpfs $LFS/run</kbd>
</pre>
              <div class="variablelist">
                <p class="title">
                  <strong>The meaning of the mount options for
                  devpts:</strong>
                </p>
                <dl class="variablelist">
                  <dt>
                    <span class="term"><em class="parameter"><code>gid=5</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This ensures that all devpts-created device nodes are
                      owned by group ID 5. This is the ID we will use later
                      on for the <code class="systemitem">tty</code> group.
                      We use the group ID instead of a name, since the host
                      system might use a different ID for its <code class="systemitem">tty</code> group.
                    </p>
                  </dd>
                  <dt>
                    <span class="term"><em class="parameter"><code>mode=0620</code></em></span>
                  </dt>
                  <dd>
                    <p>
                      This ensures that all devpts-created device nodes have
                      mode 0620 (user readable and writable, group writable).
                      Together with the option above, this ensures that
                      devpts will create device nodes that meet the
                      requirements of grantpt(), meaning the Glibc
                      <span class="command"><strong>pt_chown</strong></span>
                      helper binary (which is not installed by default) is
                      not necessary.
                    </p>
                  </dd>
                </dl>
              </div>
              <p>
                In some host systems, <code class="filename">/dev/shm</code>
                is a symbolic link to <code class="filename">/run/shm</code>.
                The /run tmpfs was mounted above so in this case only a
                directory needs to be created.
              </p>
              <pre class="userinput"><kbd class="command">if [ -h $LFS/dev/shm ]; then
  mkdir -pv $LFS/$(readlink $LFS/dev/shm)
fi</kbd>
</pre>
            </div>
          </div>
          <div class="sect1" xml:lang="en" lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h2 class="title">
                    <a id="ch-system-pkgmgt" name="ch-system-pkgmgt"></a>6.3.&nbsp;Package Management
                  </h2>
                </div>
              </div>
            </div>
            <p>
              Package Management is an often requested addition to the LFS
              Book. A Package Manager allows tracking the installation of
              files making it easy to remove and upgrade packages. As well as
              the binary and library files, a package manager will handle the
              installation of configuration files. Before you begin to
              wonder, NO—this section will not talk about nor recommend
              any particular package manager. What it provides is a roundup
              of the more popular techniques and how they work. The perfect
              package manager for you may be among these techniques or may be
              a combination of two or more of these techniques. This section
              briefly mentions issues that may arise when upgrading packages.
            </p>
            <p>
              Some reasons why no package manager is mentioned in LFS or BLFS
              include:
            </p>
            <div class="itemizedlist">
              <ul>
                <li class="listitem">
                  <p>
                    Dealing with package management takes the focus away from
                    the goals of these books—teaching how a Linux
                    system is built.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    There are multiple solutions for package management, each
                    having its strengths and drawbacks. Including one that
                    satisfies all audiences is difficult.
                  </p>
                </li>
              </ul>
            </div>
            <p>
              There are some hints written on the topic of package
              management. Visit the <a class="ulink" href="http://www.linuxfromscratch.org/hints/list.html">Hints
              Project</a> and see if one of them fits your need.
            </p>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                6.3.1. Upgrade Issues
              </h3>
              <p>
                A Package Manager makes it easy to upgrade to newer versions
                when they are released. Generally the instructions in the LFS
                and BLFS Book can be used to upgrade to the newer versions.
                Here are some points that you should be aware of when
                upgrading packages, especially on a running system.
              </p>
              <div class="itemizedlist">
                <ul>
                  <li class="listitem">
                    <p>
                      If Glibc needs to be upgraded to a newer version, (e.g.
                      from glibc-2.19 to glibc-2.20, it is safer to rebuild
                      LFS. Though you <span class="emphasis"><em>may</em></span> be able to rebuild all
                      the packages in their dependency order, we do not
                      recommend it.
                    </p>
                  </li>
                  <li class="listitem">
                    <p>
                      If a package containing a shared library is updated,
                      and if the name of the library changes, then all the
                      packages dynamically linked to the library need to be
                      recompiled to link against the newer library. (Note
                      that there is no correlation between the package
                      version and the name of the library.) For example,
                      consider a package foo-1.2.3 that installs a shared
                      library with name <code class="filename">libfoo.so.1</code>. Say you upgrade the
                      package to a newer version foo-1.2.4 that installs a
                      shared library with name <code class="filename">libfoo.so.2</code>. In this case, all
                      packages that are dynamically linked to <code class="filename">libfoo.so.1</code> need to be recompiled to
                      link against <code class="filename">libfoo.so.2</code>.
                      Note that you should not remove the previous libraries
                      until the dependent packages are recompiled.
                    </p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="sect2" xml:lang="en" lang="en">
              <h3 class="sect2">
                6.3.2. Package Management Techniques
              </h3>
              <p>
                The following are some common package management techniques.
                Before making a decision on a package manager, do some
                research on the various techniques, particularly the
                drawbacks of the particular scheme.
              </p>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458786015696" name="idp47458786015696"></a>6.3.2.1.&nbsp;It is All in My
                        Head!
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  Yes, this is a package management technique. Some folks do
                  not find the need for a package manager because they know
                  the packages intimately and know what files are installed
                  by each package. Some users also do not need any package
                  management because they plan on rebuilding the entire
                  system when a package is changed.
                </p>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458786017232" name="idp47458786017232"></a>6.3.2.2.&nbsp;Install in
                        Separate Directories
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  This is a simplistic package management that does not need
                  any extra package to manage the installations. Each package
                  is installed in a separate directory. For example, package
                  foo-1.1 is installed in <code class="filename">/usr/pkg/foo-1.1</code> and a symlink is made
                  from <code class="filename">/usr/pkg/foo</code> to
                  <code class="filename">/usr/pkg/foo-1.1</code>. When
                  installing a new version foo-1.2, it is installed in
                  <code class="filename">/usr/pkg/foo-1.2</code> and the
                  previous symlink is replaced by a symlink to the new
                  version.
                </p>
                <p>
                  Environment variables such as <code class="envar">PATH</code>, <code class="envar">LD_LIBRARY_PATH</code>, <code class="envar">MANPATH</code>, <code class="envar">INFOPATH</code>
                  and <code class="envar">CPPFLAGS</code> need to be expanded
                  to include <code class="filename">/usr/pkg/foo</code>. For
                  more than a few packages, this scheme becomes unmanageable.
                </p>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458786025936" name="idp47458786025936"></a>6.3.2.3.&nbsp;Symlink Style
                        Package Management
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  This is a variation of the previous package management
                  technique. Each package is installed similar to the
                  previous scheme. But instead of making the symlink, each
                  file is symlinked into the <code class="filename">/usr</code> hierarchy. This removes the need to
                  expand the environment variables. Though the symlinks can
                  be created by the user to automate the creation, many
                  package managers have been written using this approach. A
                  few of the popular ones include Stow, Epkg, Graft, and
                  Depot.
                </p>
                <p>
                  The installation needs to be faked, so that the package
                  thinks that it is installed in <code class="filename">/usr</code> though in reality it is installed in
                  the <code class="filename">/usr/pkg</code> hierarchy.
                  Installing in this manner is not usually a trivial task.
                  For example, consider that you are installing a package
                  libfoo-1.1. The following instructions may not install the
                  package properly:
                </p>
                <pre class="userinput"><kbd class="command">./configure --prefix=/usr/pkg/libfoo/1.1
make
make install</kbd>
</pre>
                <p>
                  The installation will work, but the dependent packages may
                  not link to libfoo as you would expect. If you compile a
                  package that links against libfoo, you may notice that it
                  is linked to <code class="filename">/usr/pkg/libfoo/1.1/lib/libfoo.so.1</code>
                  instead of <code class="filename">/usr/lib/libfoo.so.1</code> as you would expect.
                  The correct approach is to use the <code class="envar">DESTDIR</code> strategy to fake installation of the
                  package. This approach works as follows:
                </p>
                <pre class="userinput"><kbd class="command">./configure --prefix=/usr
make
make DESTDIR=/usr/pkg/libfoo/1.1 install</kbd>
</pre>
                <p>
                  Most packages support this approach, but there are some
                  which do not. For the non-compliant packages, you may
                  either need to manually install the package, or you may
                  find that it is easier to install some problematic packages
                  into <code class="filename">/opt</code>.
                </p>
              </div>
              <div class="sect3">
                <div class="titlepage">
                  <div>
                    <div>
                      <h4 class="title">
                        <a id="idp47458786038944" name="idp47458786038944"></a>6.3.2.4.&nbsp;Timestamp Based
                      </h4>
                    </div>
                  </div>
                </div>
                <p>
                  In this technique, a file is timestamped before the
                  install</p></div></div></div></div></div></div></body></html>